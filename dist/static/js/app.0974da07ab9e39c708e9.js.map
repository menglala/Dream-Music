{"version":3,"sources":["webpack:///src/base/confirm.vue","webpack:///./src/base/confirm.vue?f779","webpack:///./src/base/confirm.vue","webpack:///src/base/scroll.vue","webpack:///./src/base/scroll.vue?f80e","webpack:///./src/base/scroll.vue","webpack:///./src/common/js/mixin.js","webpack:///./src/assets/loading.gif","webpack:///src/base/search-box.vue","webpack:///./src/base/search-box.vue?c5a0","webpack:///./src/base/search-box.vue","webpack:///./src/base/Mheader.vue?9cc6","webpack:///./src/base/Mheader.vue","webpack:///src/base/Mheader.vue","webpack:///./src/base/tab.vue?3042","webpack:///./src/base/tab.vue","webpack:///src/base/tab.vue","webpack:///./src/store/getter.js","webpack:///./src/common/js/cache.js","webpack:///./src/store/actions.js","webpack:///./src/store/mutations-types.js","webpack:///./src/store/mutations.js","webpack:///./src/store/index.js","webpack:///src/base/progressBar.vue","webpack:///./src/base/progressBar.vue?9155","webpack:///./src/base/progressBar.vue","webpack:///src/base/progressCircle.vue","webpack:///./src/base/progressCircle.vue?660b","webpack:///./src/base/progressCircle.vue","webpack:///src/base/switch.vue","webpack:///./src/base/switch.vue?36ef","webpack:///./src/base/switch.vue","webpack:///src/base/songs.vue","webpack:///./src/base/songs.vue?0184","webpack:///./src/base/songs.vue","webpack:///src/base/search-list.vue","webpack:///./src/base/search-list.vue?c3ba","webpack:///./src/base/search-list.vue","webpack:///src/base/top-tips.vue","webpack:///./src/base/top-tips.vue?064e","webpack:///./src/base/top-tips.vue","webpack:///src/components/add-song.vue","webpack:///./src/components/add-song.vue?e881","webpack:///./src/components/add-song.vue","webpack:///src/components/playlist.vue","webpack:///./src/components/playlist.vue?755a","webpack:///./src/components/playlist.vue","webpack:///src/components/player.vue","webpack:///./src/components/player.vue?6f52","webpack:///./src/components/player.vue","webpack:///src/App.vue","webpack:///./src/App.vue?cf82","webpack:///./src/App.vue","webpack:///./src/router/index.js","webpack:///./src/main.js","webpack:///./src/api/commonParams.js","webpack:///src/base/loading.vue","webpack:///./src/base/loading.vue?fa90","webpack:///./src/base/loading.vue","webpack:///./src/common/js/Song.js","webpack:///src/base/no-result.vue","webpack:///./src/base/no-result.vue?e6f4","webpack:///./src/base/no-result.vue","webpack:///src/components/suggest.vue","webpack:///./src/components/suggest.vue?bbde","webpack:///./src/components/suggest.vue","webpack:///./src/common/js/jsonp.js","webpack:///./src/api/index.js","webpack:///./src/common/js/util.js","webpack:///./src/common/js/playMode.js"],"names":["base_confirm","data","showFlag","props","text","type","String","default","confirmText","cancelText","methods","show","this","hidden","confirm","$emit","cancel","selectortype_template_index_0_src_base_confirm","render","_vm","_h","$createElement","_c","_self","attrs","name","directives","rawName","value","expression","staticClass","_v","_s","on","click","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","base_scroll","probeType","Number","Boolean","scrollX","listenScroll","Array","pullup","pulldown","beforeScroll","refreshDelay","mounted","_this","setTimeout","_initScroll","_this2","$refs","wrapper","scroll","bscroll_esm","pos","y","maxScrollY","disable","enable","refresh","scrollTo","apply","arguments","scrollToElement","watch","_this3","selectortype_template_index_0_src_base_scroll","ref","_t","playMixin","computed","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default","Object","__WEBPACK_IMPORTED_MODULE_1_vuex__","iconMode","mode","__WEBPACK_IMPORTED_MODULE_2__playMode_js__","random","sequence","setFullScreen","setPlayingState","setCurrentIndex","setPlayMode","setPlayList","changeMode","list","__WEBPACK_IMPORTED_MODULE_3__util_js__","sequenceList","resetIndex","index","findIndex","item","id","currentSong","searchMixin","addQuery","query","searchBox","setQuery","saveSearchHistory","blurInp","blur","module","exports","search_box","placeholder","created","$watch","util","newVal","clearSearch","queryInp","base_search_box","domProps","input","$event","target","composing","base_Mheader","to","tag","src_base_Mheader","base_tab","src_base_tab","tab_normalizeComponent","getter","playing","state","fullScreen","playList","currentIndex","disc","topList","searchHistory","playHistory","insertArray","arr","val","compare","maxLength","splice","unshift","length","pop","song","actions_selectPlay","_ref","_ref2","commit","playMode","randomList","actions_randomPlay","_ref3","_ref4","actions_insertSong","_ref5","playlist","slice","sequencelist","fpIndex","currentSIndex","fsIndex","actions_saveSearchHistory","_ref6","searches","storage_default","a","get","set","saveSearch","actions_deleteSearchHistory","_ref7","deleteSearch","actions_clearSearchHistory","_ref8","remove","actions_deleteSong","_ref9","pIndex","sIndex","actions_clearSongslist","_ref10","actions_savePlayHistory","_ref11","songs","savePlay","store_mutations","mutations","defineProperty_default","flag","_mutations","vue_esm","use","vuex_esm","store_state","src_store","Store","getters","actions","actions_namespaceObject","progressBar","percent","initiate","touch","offsetWith","progress","clientWidth","progressClick","e","rect","getBoundingClientRect","offsetWidth","pageX","left","triggerPercent","width","bar","style","barBtn","touchBarStart","startX","touches","barWidth","touchBarMove","moveX","deltaX","Math","min","max","touchBarEnd","progressWidth","base_progressBar","touchstart","touchmove","touchend","src_base_progressBar","progressBar_normalizeComponent","progressCircle","radius","dashArray","PI","dashOffset","base_progressCircle","height","viewBox","version","xmlns","r","cx","cy","fill","stroke-dasharray","stroke-dashoffset","src_base_progressCircle","progressCircle_normalizeComponent","base_switch","switches","switchItem","selectortype_template_index_0_src_base_switch","_l","key","class","active","src_base_switch","switch_normalizeComponent","base_songs","rank","selectItem","getDesc","singer","album","getRankCls","getRankText","selectortype_template_index_0_src_base_songs","textContent","src_base_songs","songs_normalizeComponent","search_list","deleteOne","base_search_list","stopPropagation","src_base_search_list","search_list_normalizeComponent","top_tips","delay","clearTimeout","timer","hide","base_top_tips","src_base_top_tips","top_tips_normalizeComponent","add_song","mixins","mixin","showAdd","showSinger","extends_default","insertSong","topTip","selectSuggest","search","newQuery","refreshList","songslist","searchScroll","components","searchList","suggest","components_add_song","switch","select","_e","delete","deleteSearchHistory","src_components_add_song","add_song_normalizeComponent","components_playlist","getPlayModeIcon","modeText","showAddSong","addSong","showConfirm","deleteSongslist","clearSongslist","deleteItem","deleteSong","scrollList","scrollToCurrent","getCurrentIcon","current","listItems","newSong","oldSong","selectortype_template_index_0_src_components_playlist","refInFor","innerHTML","src_components_playlist","playlist_normalizeComponent","vue_scroller_min_default","player","songReady","currentTime","currentShow","currentLyric","currentLine","playLyric","playIcon","cdRotate","duration","$nextTick","audio","play","getLyric","newState","pause","showPlaylist","middleTouchStart","startY","pageY","middleTouchMove","deltaY","abs","baseLeft","window","innerWidth","lyricList","$el","middleCd","opacity","middleTouchEnd","time","handleLyric","lineNum","txt","curNum","targetEl","lyricLine","offsetTop","lines","_getLyric","then","res","lyric_default","changePercent","newPercent","togglePlaying","seek","updateTime","loop","end","next","formatTime","interval","pad","num","n","undefined","len","toString","prev","ready","savePlayHistory","error","back","open","togglePlay","getPosandScale","targetWidth","scale","x","innerHeight","enter","el","done","_getPosandScale","animation","0","transform","60","100","create_keyframe_animation_default","registerAnimation","prset","easing","runAnimation","cd","afterEnter","unregisterAnimation","leave","transition","_getPosandScale2","addEventListener","afterLeave","webkitTransform","components_player","after-enter","after-leave","src","image","line","percentChange","preventDefault","url","canplay","timeupdate","ended","mHeader","tab","player_normalizeComponent","store","selectortype_template_index_0_src_App","src_App","App_normalizeComponent","App","vue_router_esm","router","routes","path","redirect","component","bind","children","Promise","all","config","productionTip","vue_lazyload_default","preLoad","loading","attempt","elment","commonParams","g_tk","format","inCharset","outCharset","notice","options","param","ERR_OK","title","base_loading","musicData","Song","songid","mid","songmid","singerArr","forEach","push","join","singerSlice","songname","albumname","albummid","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass___default","lyric","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","resolve","reject","__WEBPACK_IMPORTED_MODULE_3_api_index__","str","t","retcode","document","createElement","innerText","console","log","no_result","base_no_result","src_base_no_result","page","result","hasMore","_search","listScroll","TYPE","$router","singermid","_searchMove","api","code","concat","getResult","checkMove","curnum","curpage","totalnum","showName","singername","getIconCls","scroller","ret","zhida","singerid","normalizeList","noResult","components_suggest","scrollToEnd","suggest_Component","suggest_normalizeComponent","jsonp_jsonp","indexOf","urlSplice","promise_default","jsonp_default","err","encodeURIComponent","substring","assign_default","picmid","rnd","loginUin","hostUin","platform","needNewCode","categoryId","sortId","sin","ein","axios_default","params","singerId","order","begin","songstatus","nobase64","musicid","songtype","disstid","_Object$assign2","json","utf8","onlysong","uin","topid","tpl","perpage","w","p","catZhida","zhidaqu","ie","sem","aggr","remoteplace","api_getRecommend","api_getSingerlist","channel","pagesize","pagenum","randomArr","i","randomIndex","floor","func","_len","args","_key"],"mappings":"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","file":"static/js/app.0974da07ab9e39c708e9.js","sourcesContent":["<template>\r\n  <transition name=\"confirm-fade\">\r\n    <div class=\"confirm\" v-show=\"showFlag\">\r\n      <div class=\"confirm-wrapper\">\r\n        <div class=\"confirm-content\">\r\n          <p class=\"text\">{{text}}</p>\r\n          <div class=\"operate\">\r\n            <div class=\"confirmText btn\" @click=\"confirm\">{{confirmText}}</div>\r\n            <div class=\"cancel btn\" @click=\"cancel\">{{cancelText}}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return { showFlag: false }\r\n  },\r\n  props: {\r\n    text: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    confirmText: {\r\n      type: String,\r\n      default: '确定'\r\n    },\r\n    cancelText: {\r\n      type: String,\r\n      default: '取消'\r\n    }\r\n  },\r\n  methods: {\r\n    show() {\r\n      this.showFlag = true\r\n    },\r\n    hidden() {\r\n      this.showFlag = false\r\n    },\r\n    confirm() {\r\n      this.$emit('confirm')\r\n      this.hidden()\r\n    },\r\n    cancel() {\r\n      this.$emit('cancel')\r\n      this.hidden()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.confirm-fade-enter-active {\r\n  animation: confirm-fadein 0.3s;\r\n}\r\n.confirm-content {\r\n  animation: confirm-zoom 0.3s;\r\n}\r\n.confirm {\r\n  position: fixed;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  background-color: rgba(0, 0, 0, 0.3);\r\n  z-index: 300;\r\n}\r\n.confirm-wrapper {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  z-index: 301;\r\n}\r\n.confirm-content {\r\n  width: 270px;\r\n  background: #333;\r\n  border-radius: 13px;\r\n}\r\n.text {\r\n  padding: 19px 15px;\r\n  line-height: 22px;\r\n  font-size: 18px;\r\n  color: hsla(0, 0%, 100%, 0.5);\r\n  text-align: center;\r\n}\r\n.operate {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 18px;\r\n  .btn {\r\n    color: hsla(0, 0%, 100%, 0.3);\r\n    flex: 1;\r\n    padding: 10px 0;\r\n    line-height: 22px;\r\n    border-top: 1px solid rgba(0, 0, 0, 0.3);\r\n    text-align: center;\r\n  }\r\n  .cancel {\r\n    border-left: 1px solid rgba(0, 0, 0, 0.3);\r\n  }\r\n  @keyframes confirm-fadein {\r\n    0% {\r\n      opacity: 0;\r\n    }\r\n    100% {\r\n      opacity: 1;\r\n    }\r\n  }\r\n\r\n  @keyframes confirm-zoom {\r\n    0% {\r\n      transform: scale(0);\r\n    }\r\n    50% {\r\n      transform: scale(1.1);\r\n    }\r\n    100% {\r\n      transform: scale(1);\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/confirm.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"confirm-fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showFlag),expression:\"showFlag\"}],staticClass:\"confirm\"},[_c('div',{staticClass:\"confirm-wrapper\"},[_c('div',{staticClass:\"confirm-content\"},[_c('p',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.text))]),_vm._v(\" \"),_c('div',{staticClass:\"operate\"},[_c('div',{staticClass:\"confirmText btn\",on:{\"click\":_vm.confirm}},[_vm._v(_vm._s(_vm.confirmText))]),_vm._v(\" \"),_c('div',{staticClass:\"cancel btn\",on:{\"click\":_vm.cancel}},[_vm._v(_vm._s(_vm.cancelText))])])])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e13d2418\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/confirm.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e13d2418\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./confirm.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./confirm.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./confirm.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e13d2418\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./confirm.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-e13d2418\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/confirm.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div ref=\"wrapper\">\r\n    <slot></slot>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\n  import BScroll from 'better-scroll'\r\n\r\n  export default {\r\n    props: {\r\n      /**\r\n       * 1 滚动的时候会派发scroll事件，会截流。\r\n       * 2 滚动的时候实时派发scroll事件，不会截流。\r\n       * 3 除了实时派发scroll事件，在swipe的情况下仍然能实时派发scroll事件\r\n       */\r\n      probeType: {\r\n        type: Number,\r\n        default: 1\r\n      },\r\n      /**\r\n       * 点击列表是否派发click事件\r\n       */\r\n      click: {\r\n        type: Boolean,\r\n        default: true\r\n      },\r\n      /**\r\n       * 是否开启横向滚动\r\n       */\r\n      scrollX: {\r\n        type: Boolean,\r\n        default: false\r\n      },\r\n      /**\r\n       * 是否派发滚动事件\r\n       */\r\n      listenScroll: {\r\n        type: Boolean,\r\n        default: false\r\n      },\r\n      /**\r\n       * 列表的数据\r\n       */\r\n      data: {\r\n        type: Array,\r\n        default: null\r\n      },\r\n      /**\r\n       * 是否派发滚动到底部的事件，用于上拉加载\r\n       */\r\n      pullup: {\r\n        type: Boolean,\r\n        default: false\r\n      },\r\n      /**\r\n       * 是否派发顶部下拉的事件，用于下拉刷新\r\n       */\r\n      pulldown: {\r\n        type: Boolean,\r\n        default: false\r\n      },\r\n      /**\r\n       * 是否派发列表滚动开始的事件\r\n       */\r\n      beforeScroll: {\r\n        type: Boolean,\r\n        default: false\r\n      },\r\n      /**\r\n       * 当数据更新后，刷新scroll的延时。\r\n       */\r\n      refreshDelay: {\r\n        type: Number,\r\n        default: 20\r\n      }\r\n    },\r\n    mounted() {\r\n      // 保证在DOM渲染完毕后初始化better-scroll\r\n      setTimeout(() => {\r\n        this._initScroll()\r\n      }, 20)\r\n    },\r\n    methods: {\r\n      _initScroll() {\r\n        if (!this.$refs.wrapper) {\r\n          return\r\n        }\r\n        // better-scroll的初始化\r\n        this.scroll = new BScroll(this.$refs.wrapper, {\r\n          probeType: this.probeType,\r\n          click: this.click,\r\n          scrollX: this.scrollX\r\n        })\r\n\r\n        // 是否派发滚动事件\r\n        if (this.listenScroll) {\r\n          this.scroll.on('scroll', (pos) => {\r\n            this.$emit('scroll', pos)\r\n          })\r\n        }\r\n\r\n        // 是否派发滚动到底部事件，用于上拉加载\r\n        if (this.pullup) {\r\n          this.scroll.on('scrollEnd', () => {\r\n            // 滚动到底部\r\n            if (this.scroll.y <= (this.scroll.maxScrollY + 50)) {\r\n              this.$emit('scrollToEnd')\r\n            }\r\n          })\r\n        }\r\n\r\n        // 是否派发顶部下拉事件，用于下拉刷新\r\n        if (this.pulldown) {\r\n          this.scroll.on('touchend', (pos) => {\r\n            // 下拉动作\r\n            if (pos.y > 50) {\r\n              this.$emit('pulldown')\r\n            }\r\n          })\r\n        }\r\n\r\n        // 是否派发列表滚动开始的事件\r\n        if (this.beforeScroll) {\r\n          this.scroll.on('beforeScrollStart', () => {\r\n            this.$emit('beforeScroll')\r\n          })\r\n        }\r\n      },\r\n      disable() {\r\n        // 代理better-scroll的disable方法\r\n        this.scroll && this.scroll.disable()\r\n      },\r\n      enable() {\r\n        // 代理better-scroll的enable方法\r\n        this.scroll && this.scroll.enable()\r\n      },\r\n      refresh() {\r\n        // 代理better-scroll的refresh方法\r\n        this.scroll && this.scroll.refresh()\r\n      },\r\n      scrollTo() {\r\n        // 代理better-scroll的scrollTo方法\r\n        this.scroll && this.scroll.scrollTo.apply(this.scroll, arguments)\r\n      },\r\n      scrollToElement() {\r\n        // 代理better-scroll的scrollToElement方法\r\n        this.scroll && this.scroll.scrollToElement.apply(this.scroll, arguments)\r\n      }\r\n    },\r\n    watch: {\r\n      // 监听数据的变化，延时refreshDelay时间后调用refresh方法重新计算，保证滚动效果正常\r\n      data() {\r\n        setTimeout(() => {\r\n          this.refresh()\r\n        }, this.refreshDelay)\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/scroll.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"wrapper\"},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3f52176c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/scroll.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3f52176c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./scroll.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./scroll.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./scroll.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3f52176c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./scroll.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3f52176c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/scroll.vue\n// module id = null\n// module chunks = ","import { mapMutations, mapGetters ,mapActions} from 'vuex'\r\nimport playMode from './playMode.js'\r\nimport { shuffle } from './util.js'\r\n\r\nexport const playMixin = {\r\n  computed: {\r\n    ...mapGetters(['sequenceList', 'currentSong', 'mode', 'playList']),\r\n    iconMode() {\r\n      return this.mode === playMode.random\r\n        ? 'icon-random'\r\n        : this.mode === playMode.sequence\r\n          ? 'icon-sequence'\r\n          : 'icon-loop'\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations({\r\n      setFullScreen: 'SET_FULLSCREEN',\r\n      setPlayingState: 'SET_PLAYING_STATE',\r\n      setCurrentIndex: 'SET_CURRENT_INDEX',\r\n      setPlayMode: 'SET_PLAY_MODE',\r\n      setPlayList: 'SET_PLAY_LIST'\r\n    }),\r\n    changeMode() {\r\n      const mode = (this.mode + 1) % 3 // 对3取余\r\n      this.setPlayMode(mode)\r\n      let list = []\r\n\r\n      if (this.mode === playMode.random) {\r\n        list = shuffle(this.sequenceList)\r\n      } else {\r\n        list = this.sequenceList\r\n      }\r\n      this.resetIndex(list)\r\n      this.setPlayList(list)\r\n    },\r\n    resetIndex(list) {\r\n      let index = list.findIndex(item => {\r\n        return item.id === this.currentSong.id\r\n      })\r\n\r\n      return this.setCurrentIndex(index)\r\n    }\r\n  }\r\n}\r\n\r\nexport const searchMixin = {\r\n  computed: {\r\n    ...mapGetters(['searchHistory']),\r\n  },\r\n  methods: {\r\n    ...mapActions(['saveSearchHistory', 'deleteSearchHistory']),\r\n    addQuery(item) {\r\n      this.query = item\r\n      // 点击热门搜索时,搜索框自动补充搜索热词\r\n      this.$refs.searchBox.setQuery(item)\r\n      this.saveSearchHistory(item)\r\n    },\r\n    blurInp() {\r\n      this.$refs.searchBox.blur()\r\n    }\r\n  },\r\n \r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/mixin.js","module.exports = \"data:image/gif;base64,R0lGODlhZABkAKIEAN7e3rq6uv///5mZmQAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpBRjA4RUZDMDI3MjA2ODExODA4M0Y1OTQyMzVDRDM3MyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpCMzE0Rjk3NDdDRTgxMUUzOUJCRjk0NjAxMUE1NzRBMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpCMzE0Rjk3MzdDRTgxMUUzOUJCRjk0NjAxMUE1NzRBMCIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RDVBMTZDQjczOTIwNjgxMTgwODNGNTk0MjM1Q0QzNzMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QUYwOEVGQzAyNzIwNjgxMTgwODNGNTk0MjM1Q0QzNzMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+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\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/loading.gif\n// module id = G/2H\n// module chunks = 10","<template>\r\n  <div class=\"icon search-box\">\r\n    <i class=\"icon-search\"></i>\r\n    <input type=\"text\" :placeholder=\"placeholder\" v-model=\"query\" ref=\"queryInp\">\r\n    <i class=\"icon-dismiss\" @click=\"clearSearch\" v-show=\"query\"></i>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapMutations} from 'vuex'\r\nimport {debounce} from '../common/js/util.js'\r\n\r\nexport default {  \r\n  props:{\r\n    placeholder:{\r\n      type:String,\r\n      default:'搜索歌曲,歌手......'\r\n    }\r\n  },\r\n  data(){\r\n    return{ query:'',}\r\n  },\r\n  created() {\r\n    // 使用了debounce节流函数,在每次修改搜索词的时候会延迟发送请求并清空未发送的请求,节约流量\r\n    this.$watch('query', debounce((newVal)=>{\r\n      this.$emit('query',newVal)\r\n    },200)) \r\n  },\r\n  methods:{\r\n    clearSearch(){\r\n      this.query =''\r\n    },\r\n    setQuery(text){\r\n      this.query=text\r\n    },\r\n    blur(){\r\n      this.$refs.queryInp.blur()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  .search-box{width: 100%;height: 40px;background-color: #333;padding: 0 6px;border-radius: 6px;display: flex;align-items:center;box-sizing:border-box;\r\n    i{font-size: 24px;color: #6f6363;}\r\n    .icon-dismiss{font-size: 16px;}\r\n    input{background-color: #333;flex: 1;margin: 0 5px;outline: 0;color: #fff;\r\n    font-size: 14px;line-height: 18px;}\r\n  }\r\n</style>\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/search-box.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"icon search-box\"},[_c('i',{staticClass:\"icon-search\"}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.query),expression:\"query\"}],ref:\"queryInp\",attrs:{\"type\":\"text\",\"placeholder\":_vm.placeholder},domProps:{\"value\":(_vm.query)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.query=$event.target.value}}}),_vm._v(\" \"),_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.query),expression:\"query\"}],staticClass:\"icon-dismiss\",on:{\"click\":_vm.clearSearch}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5fbd04df\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/search-box.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5fbd04df\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./search-box.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./search-box.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./search-box.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5fbd04df\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./search-box.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5fbd04df\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/search-box.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-header\"},[_c('div',{staticClass:\"logo\"}),_vm._v(\" \"),_c('h1',[_vm._v(\"Dream Music\")]),_vm._v(\" \"),_c('router-link',{staticClass:\"icon\",attrs:{\"to\":\"/user\",\"tag\":\"div\"}},[_c('i',{staticClass:\"icon-mine\"})])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-65f5b45f\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/Mheader.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-65f5b45f\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Mheader.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Mheader.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Mheader.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-65f5b45f\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Mheader.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-65f5b45f\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/Mheader.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"m-header\">\r\n    <div class=\"logo\"></div>\r\n    <h1>Dream Music</h1>\r\n    <router-link to=\"/user\" tag=\"div\" class=\"icon\">\r\n      <i class=\"icon-mine\"></i>\r\n    </router-link>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default{\r\n    name:\"m-header\",\r\n  }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  @import '../common/less/mixin.less';\r\n  @import '../common/less/variable.less';\r\n\r\n  .m-header{position: fixed;top: 0;left: 0;\r\n  width: 100%;text-align: center;color:@color-theme;height: 44px;font-size:18px;\r\n  .logo{width: 30px;height: 32px;background: url(\"../assets/logo@3x.png\") no-repeat;background-size: 100%;display: inline-block;margin: 6px 5px 0 0;}\r\n  h1{display: inline-block;line-height: 44px;vertical-align: top;}\r\n  .icon-mine{font-size: 20px;position: absolute;top: 0;right: 0;padding: 12px;color: @color-theme;}\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/Mheader.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"tab\"},[_c('router-link',{attrs:{\"to\":\"/recommend\",\"tag\":\"li\"}},[_vm._v(\"推荐\")]),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":\"/singer\",\"tag\":\"li\"}},[_vm._v(\"歌手\")]),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":\"/rank\",\"tag\":\"li\"}},[_vm._v(\"榜单\")]),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":\"/search\",\"tag\":\"li\"}},[_vm._v(\"搜索\")])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-406fc152\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/tab.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-406fc152\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./tab.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./tab.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./tab.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-406fc152\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./tab.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-406fc152\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/tab.vue\n// module id = null\n// module chunks = ","<template>\r\n  <ul class=\"tab\">\r\n      <router-link to=\"/recommend\" tag=\"li\">推荐</router-link>\r\n      <router-link to=\"/singer\" tag=\"li\">歌手</router-link>\r\n      <router-link to=\"/rank\" tag=\"li\">榜单</router-link>\r\n      <router-link to=\"/search\" tag=\"li\">搜索</router-link>\r\n  </ul>\r\n</template>\r\n\r\n<script>\r\n  export default{\r\n    name:'tab',\r\n\r\n  }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import '../common/less/variable.less';\r\n\r\n.tab{ width: 100%;display: flex;height: 44px;position: fixed;top:44px;left: 0;\r\nli{display: flex; flex: 1;align-items: center;justify-content:center; font-size: 14px;color:@color-text-l;}\r\n.router-link-active{color: @color-theme;border-bottom: 2px solid @color-theme} \r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/tab.vue","let getters = {\r\n  playing: state => state.playing,\r\n  fullScreen: state => state.fullScreen,\r\n  sequenceList: state => state.sequenceList,\r\n  mode: state => state.mode,\r\n  playList: state => state.playList,\r\n  currentIndex: state => state.currentIndex,\r\n  currentSong: state => {\r\n    return state.playList[state.currentIndex] || {}\r\n  },\r\n  disc: state => state.disc,\r\n  topList:state=>state.topList,\r\n  query:state=>state.query,\r\n  searchHistory:state=>state.searchHistory,\r\n  playHistory:state=>state.playHistory,\r\n}\r\n\r\nexport default getters\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/getter.js","import storage from 'good-storage'\r\n\r\nfunction insertArray(arr, val, compare, maxLength) {\r\n  const index = arr.findIndex(compare)\r\n  if (index === 0) {\r\n    return\r\n  }\r\n  if (index > 0) {\r\n    arr.splice(index, 1)\r\n  }\r\n  arr.unshift(val)\r\n  if (maxLength && arr.length > maxLength) {\r\n    arr.pop()\r\n  }\r\n}\r\n\r\nfunction deleteArray(arr,compare) {\r\n  const index=arr.findIndex(compare)\r\n  if (index>-1) {\r\n    arr.splice(index,1)\r\n  }\r\n}\r\n\r\nexport function saveSearch(query) {\r\n  const SEARCH_KEY = '_search_'\r\n  const SEARCH_MAX_LENGTH = 15\r\n\r\n  let searches = storage.get(SEARCH_KEY, [])\r\n  insertArray(searches,query,item => {\r\n      return item === query\r\n    },\r\n    SEARCH_MAX_LENGTH\r\n  )\r\n  storage.set(SEARCH_KEY, searches)\r\n  return searches\r\n}\r\n\r\nexport function loadSearchHistory(){\r\n  const SEARCH_KEY = '_search_'\r\n  return storage.get(SEARCH_KEY,[])\r\n}\r\n\r\nexport function deleteSearch(query) {\r\n  const SEARCH_KEY = '_search_'\r\n  let searches=storage.get(SEARCH_KEY,[])\r\n  deleteArray(searches,item=>{\r\n    return item===query\r\n  })\r\n  storage.set(SEARCH_KEY,searches)\r\n  return searches\r\n}\r\n\r\nexport function clearSearch() {\r\n  const SEARCH_KEY = '_search_'\r\n  storage.remove(SEARCH_KEY)\r\n  return []\r\n}\r\n\r\nexport function savePlay(song) {\r\n  const PLAY_KEY='_play_'\r\n  const PLAY_KEY_LENGTH=200\r\n\r\n  let songs=storage.get(PLAY_KEY,[])\r\n  insertArray(songs,song,item => {\r\n    return item.id === song.id\r\n  }, PLAY_KEY_LENGTH)\r\n  storage.set(PLAY_KEY, songs)\r\n  return songs\r\n}\r\n\r\nexport function loadPlayHistory() {\r\n  const PLAY_KEY = '_play_'\r\n  return storage.get(PLAY_KEY, [])\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/cache.js","// 和mutations一样,导入mutations-types操作\r\nimport * as types from './mutations-types'\r\nimport playMode from '../common/js/playMode'\r\nimport { shuffle } from '../common/js/util'\r\nimport { saveSearch, deleteSearch, clearSearch ,savePlay} from '../common/js/cache'\r\n\r\nfunction findIndex(list, song) {\r\n  let findIndex = list.findIndex(item => {\r\n    return item.id === song.id\r\n  })\r\n  return findIndex\r\n}\r\n\r\n//第一个参数是个对象,是commit和state\r\nexport const selectPlay = function({ commit, state }, { list, index }) {\r\n  //执行commit操作\r\n  commit(types.SET_SEQUENCE_LIST, list)\r\n  if (state.mode === playMode.random) {\r\n    let randomList = shuffle(list)\r\n    commit(types.SET_PLAY_LIST, randomList)\r\n    index = findIndex(randomList, list[index])\r\n  } else {\r\n    commit(types.SET_PLAY_LIST, list)\r\n  }\r\n  commit(types.SET_CURRENT_INDEX, index)\r\n  commit(types.SET_FULLSCREEN, true)\r\n  commit(types.SET_PLAYING_STATE, true)\r\n}\r\n\r\nexport const randomPlay = function({ commit, state }, { list }) {\r\n  commit(types.SET_PLAY_MODE, playMode.random)\r\n  commit(types.SET_SEQUENCE_LIST, list)\r\n  let randomList = shuffle(list)\r\n  commit(types.SET_PLAY_LIST, randomList)\r\n  commit(types.SET_CURRENT_INDEX, 0)\r\n  commit(types.SET_FULLSCREEN, true)\r\n  commit(types.SET_PLAYING_STATE, true)\r\n}\r\n\r\nexport const insertSong = function({ commit, state }, song) {\r\n  let playlist = state.playList.slice()\r\n  let sequencelist = state.sequenceList.slice()\r\n  let currentIndex = state.currentIndex\r\n  let currentSong = playlist[currentIndex]\r\n\r\n  let fpIndex = findIndex(playlist, song)\r\n  currentIndex++\r\n  playlist.splice(currentIndex, 0, song)\r\n  if (fpIndex > -1) {\r\n    if (fpIndex < currentIndex) {\r\n      playlist.splice(fpIndex, 1)\r\n      currentIndex--\r\n    } else {\r\n      playlist.splice(fpIndex + 1, 1)\r\n    }\r\n  }\r\n\r\n  let currentSIndex = findIndex(sequencelist, currentSong)\r\n  currentSIndex++\r\n  let fsIndex = findIndex(sequencelist, song)\r\n  sequencelist.splice(currentSIndex, 0, song)\r\n  if (fsIndex > -1) {\r\n    if (fsIndex < currentSIndex) {\r\n      sequencelist.splice(fsIndex, 1)\r\n    } else {\r\n      sequencelist.splice(fsIndex + 1, 1)\r\n    }\r\n  }\r\n\r\n  commit(types.SET_PLAY_LIST, playlist)\r\n  commit(types.SET_SEQUENCE_LIST, sequencelist)\r\n  commit(types.SET_FULLSCREEN, true)\r\n  commit(types.SET_PLAYING_STATE, true)\r\n  commit(types.SET_CURRENT_INDEX, currentIndex)\r\n}\r\n\r\nexport const saveSearchHistory = function({ commit }, query) {\r\n  commit(types.SET_SEARCH_HISTORY, saveSearch(query))\r\n}\r\n\r\nexport const deleteSearchHistory = function({ commit }, query) {\r\n  commit(types.SET_SEARCH_HISTORY, deleteSearch(query))\r\n}\r\nexport const clearSearchHistory = function({ commit }) {\r\n  commit(types.SET_SEARCH_HISTORY, clearSearch())\r\n}\r\n\r\nexport const deleteSong=function ({commit,state},song){\r\n  let playlist = state.playList.slice()\r\n  let sequencelist = state.sequenceList.slice()\r\n  let currentIndex = state.currentIndex\r\n\r\n  let pIndex=findIndex(playlist,song)\r\n  if (pIndex>-1) {\r\n     playlist.splice(pIndex,1)\r\n  }\r\n  if (pIndex<currentIndex) {\r\n    currentIndex--\r\n  }\r\n\r\n  let sIndex=findIndex(sequencelist,song)\r\n    sequencelist.splice(sIndex,1)\r\n  \r\n  commit(types.SET_PLAY_LIST,playlist)\r\n  commit(types.SET_SEQUENCE_LIST,sequencelist)\r\n  commit(types.SET_CURRENT_INDEX,currentIndex)\r\n  commit(types.SET_PLAYING_STATE,true)\r\n\r\n  if (!playlist.length) {\r\n    commit(types.SET_PLAYING_STATE,false)\r\n  }\r\n}\r\n\r\nexport const clearSongslist = function ({ commit }) {\r\n  commit(types.SET_CURRENT_INDEX,-1)\r\n  commit(types.SET_PLAY_LIST,[])\r\n  commit(types.SET_SEQUENCE_LIST,[])\r\n  commit(types.SET_PLAYING_STATE,false)\r\n}\r\n\r\nexport const savePlayHistory=function ({commit},song) {\r\n  commit(types.SET_PLAY_HISTORY,savePlay(song))\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/store/actions.js","export const SET_PLAYING_STATE = 'SET_PLAYING_STATE'\r\n\r\nexport const SET_FULLSCREEN = 'SET_FULLSCREEN'\r\n\r\nexport const SET_PLAY_MODE = 'SET_PLAY_MODE'\r\n\r\nexport const SET_CURRENT_INDEX = 'SET_CURRENT_INDEX'\r\n\r\nexport const SET_PLAY_LIST = 'SET_PLAY_LIST'\r\n\r\nexport const SET_SEQUENCE_LIST = 'SET_SEQUENCE_LIST'\r\n\r\nexport const SET_DISC = 'SET_DISC'\r\n\r\nexport const SET_TOP_LIST = 'SET_TOP_LIST'\r\n\r\nexport const SET_QUERY = 'SET_QUERY'\r\n\r\nexport const SET_SEARCH_HISTORY = 'SET_SEARCH_HISTORY'\r\n\r\nexport const SET_PLAY_HISTORY = 'SET_PLAY_HISTORY'\n\n\n// WEBPACK FOOTER //\n// ./src/store/mutations-types.js","import * as types from './mutations-types'\r\n\r\nlet mutations = {\r\n  [types.SET_PLAYING_STATE](state, flag) {\r\n    state.playing = flag\r\n  },\r\n  [types.SET_FULLSCREEN](state, flag) {\r\n    state.fullScreen = flag\r\n  },\r\n  [types.SET_PLAY_LIST](state, list) {\r\n    state.playList = list\r\n  },\r\n  [types.SET_PLAY_MODE](state, mode) {\r\n    state.mode = mode\r\n  },\r\n  [types.SET_SEQUENCE_LIST](state, list) {\r\n    state.sequenceList = list\r\n  },\r\n  [types.SET_CURRENT_INDEX](state, index) {\r\n    state.currentIndex = index\r\n  },\r\n  [types.SET_DISC](state, disc) {\r\n    state.disc = disc\r\n  },\r\n  [types.SET_TOP_LIST](state, list) {\r\n    state.topList = list\r\n  },\r\n  [types.SET_QUERY](state, query) {\r\n    state.query = query\r\n  },\r\n  [types.SET_SEARCH_HISTORY](state, list) {\r\n    state.searchHistory = list\r\n  },\r\n  [types.SET_PLAY_HISTORY](state, list) {\r\n    state.playHistory = list\r\n  }\r\n}\r\n\r\nexport default mutations\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/mutations.js","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport getters from './getter' \r\n// 在actions.js中没有默认导出actions所以需要用* as 引入\r\nimport * as actions from './actions'\r\nimport mutations from './mutations'\r\nimport playMode from '../common/js/playMode'\r\nimport { loadSearchHistory,loadPlayHistory } from '../common/js/cache'\r\n\r\nVue.use(Vuex)\r\n\r\nconst state = {\r\n  playing: false,\r\n  fullScreen: true, //是否全屏播放\r\n  sequenceList: [], // 歌曲播放的顺序列表\r\n  currentIndex: -1,\r\n  playList: [], // 歌曲播放列表\r\n  mode: playMode.sequence, // 播放的模式 (顺序,随机,循环)\r\n  disc:{},\r\n  topList:{},\r\n  query:'',\r\n  searchHistory:loadSearchHistory(),\r\n  playHistory: loadPlayHistory(),\r\n}\r\n\r\nconst store = new Vuex.Store({\r\n  state,\r\n  mutations,\r\n  getters,\r\n  actions,\r\n})\r\n\r\nexport default store\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","<template>\r\n  <div class=\"progress-bar\">\r\n    <div class=\"bar-inner\" ref=\"progress\" @click=\"progressClick\">\r\n      <div class=\"progress\" ref=\"bar\"></div>\r\n      <div class=\"progress-btn-wrapper\" ref=\"barBtn\" @touchstart=\"touchBarStart\" @touchmove=\"touchBarMove\" @touchend=\"touchBarEnd\">\r\n        <div class=\"progress-btn\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nconst btnWidth = 16\r\n\r\nexport default {\r\n  props: {\r\n    percent: {\r\n      type: Number,\r\n      default: 0\r\n    }\r\n  },\r\n  data() {\r\n    return { initiate: false }\r\n  },\r\n  created() {\r\n    this.touch = {}\r\n  },\r\n  watch: {\r\n    percent(newVal) {\r\n      if (newVal > 0 && !this.initiate) {\r\n        const progressWidth = this.$refs.progress.clientWidth - btnWidth\r\n        // 在显示mini播放器的时候是-16 \r\n        let offsetWith = newVal * progressWidth\r\n        this.offsetWith(offsetWith)\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    progressClick(e) {\r\n      const rect = this.$refs.progress.getBoundingClientRect()\r\n      let offsetWidth = e.pageX - rect.left\r\n      this.offsetWith(offsetWidth)\r\n      this.triggerPercent()\r\n    },\r\n    offsetWith(width) {\r\n      this.$refs.bar.style.width = `${width}px`\r\n      this.$refs.barBtn.style['transform'] = `translate3d(${width}px,0,0)`\r\n      this.$refs.barBtn.style['webkitTransform'] = `translate3d(${width}px,0,0)`\r\n    },\r\n    touchBarStart(e) {\r\n      this.initiate = true\r\n      this.touch.startX = e.touches[0].pageX\r\n      this.touch.barWidth = this.$refs.bar.clientWidth\r\n    },\r\n    touchBarMove(e) {\r\n      if (!this.initiate) {\r\n        return\r\n      }\r\n      this.touch.moveX = e.touches[0].pageX\r\n      let deltaX = this.touch.moveX - this.touch.startX\r\n      let offsetWith = Math.min(\r\n        this.$refs.progress.clientWidth - btnWidth,\r\n        Math.max(0, this.touch.barWidth + deltaX)\r\n      )\r\n      this.offsetWith(offsetWith)\r\n    },\r\n    touchBarEnd(e) {\r\n      this.initiate = false\r\n      this.triggerPercent()\r\n    },\r\n    triggerPercent() {\r\n      const progressWidth = this.$refs.progress.clientWidth - btnWidth\r\n      let percent = this.$refs.bar.clientWidth / progressWidth\r\n      this.$emit('percentChange', percent)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.progress-bar {\r\n  height: 30px;\r\n  flex: 1;\r\n  .bar-inner {\r\n    position: relative;\r\n    background: rgba(0, 0, 0, 0.3);\r\n    height: 4px;\r\n    top: 13px;\r\n    .progress {\r\n      height: 100%;\r\n      background-color: #ffcd32;\r\n      position: absolute;\r\n    }\r\n    .progress-btn-wrapper {\r\n      position: absolute;\r\n      top: -6px;\r\n      left: -1px;\r\n    }\r\n    .progress-btn {\r\n      width: 16px;\r\n      height: 16px;\r\n      background-color: #ffcd32;\r\n      border: 3px solid #fff;\r\n      box-sizing: border-box;\r\n      border-radius: 50%;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/progressBar.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"progress-bar\"},[_c('div',{ref:\"progress\",staticClass:\"bar-inner\",on:{\"click\":_vm.progressClick}},[_c('div',{ref:\"bar\",staticClass:\"progress\"}),_vm._v(\" \"),_c('div',{ref:\"barBtn\",staticClass:\"progress-btn-wrapper\",on:{\"touchstart\":_vm.touchBarStart,\"touchmove\":_vm.touchBarMove,\"touchend\":_vm.touchBarEnd}},[_c('div',{staticClass:\"progress-btn\"})])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7f387c62\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/progressBar.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7f387c62\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./progressBar.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./progressBar.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./progressBar.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7f387c62\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./progressBar.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7f387c62\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/progressBar.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"progress-circle\">\r\n    <svg :width=\"radius\" :height=\"radius\" viewBox=\"0 0 100 100\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <circle class=\"progress-background\" r=\"50\" cx=\"50\" cy=\"50\" fill=\"transparent\" />\r\n      <circle class=\"progress-bar\" r=\"50\" cx=\"50\" cy=\"50\" fill=\"transparent\" :stroke-dasharray=\"dashArray\" :stroke-dashoffset=\"dashOffset\" />\r\n    </svg>\r\n    <slot></slot>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\nexport default {\r\n  props: {\r\n    radius: {\r\n      type: Number,\r\n      default: 100\r\n    },\r\n    percent: {\r\n      type: Number,\r\n      default: 0\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      dashArray: Math.PI * 100\r\n    }\r\n  },\r\n  computed: {\r\n    dashOffset() {\r\n      return (1 - this.percent) * this.dashArray\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n @import \"../common/less/variable.less\";\r\n\r\n.progress-circle{position: relative;\r\ncircle{\r\nstroke-width: 8px;\r\ntransform-origin: center; \r\n&.progress-background{transform: scale(0.9);\r\nstroke: @color-theme-d}\r\n&.progress-bar{transform: scale(0.9) rotate(-90deg);\r\nstroke: @color-theme}}}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/base/progressCircle.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"progress-circle\"},[_c('svg',{attrs:{\"width\":_vm.radius,\"height\":_vm.radius,\"viewBox\":\"0 0 100 100\",\"version\":\"1.1\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('circle',{staticClass:\"progress-background\",attrs:{\"r\":\"50\",\"cx\":\"50\",\"cy\":\"50\",\"fill\":\"transparent\"}}),_vm._v(\" \"),_c('circle',{staticClass:\"progress-bar\",attrs:{\"r\":\"50\",\"cx\":\"50\",\"cy\":\"50\",\"fill\":\"transparent\",\"stroke-dasharray\":_vm.dashArray,\"stroke-dashoffset\":_vm.dashOffset}})]),_vm._v(\" \"),_vm._t(\"default\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c00ae244\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/progressCircle.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c00ae244\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./progressCircle.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./progressCircle.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./progressCircle.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c00ae244\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./progressCircle.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-c00ae244\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/progressCircle.vue\n// module id = null\n// module chunks = ","<template>\r\n  <ul class=\"switch\">\r\n    <li v-for=\"(item, index) in switches\" :key=\"index\" @click=\"switchItem(index)\" :class=\"{active:currentIndex===index}\">\r\n      <span>{{item.name}}</span>\r\n    </li>\r\n  </ul>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props:{\r\n    switches:{\r\n      type:Array,\r\n      default:[]\r\n    },\r\n    currentIndex:{\r\n      type:Number,\r\n      default:0\r\n    }\r\n  },\r\n  methods:{\r\n    switchItem(index){\r\n      this.$emit('switch',index)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.switch{\r\n  display: flex;align-items: center;width: 240px;border: 1px solid #333;\r\n  margin: 0 auto;border-radius: 5px;\r\n  li{flex: 1;font-size: 14px;color: hsla(0,0%,100%,.3);padding: 8px;text-align: center;}\r\n  .active{color: #fff;background-color: #333;}\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/switch.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"switch\"},_vm._l((_vm.switches),function(item,index){return _c('li',{key:index,class:{active:_vm.currentIndex===index},on:{\"click\":function($event){_vm.switchItem(index)}}},[_c('span',[_vm._v(_vm._s(item.name))])])}))}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-069e838c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/switch.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-069e838c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./switch.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./switch.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./switch.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-069e838c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./switch.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-069e838c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/switch.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"song-list\">\r\n    <ul>\r\n      <li @click=\"selectItem(song, index)\" class=\"item\" v-for=\"(song, index) in songs\" :key=\"index\">\r\n        <div class=\"rank\" v-show=\"rank\">\r\n          <span :class=\"getRankCls(index)\" v-text=\"getRankText(index)\"></span>\r\n        </div>\r\n        <div class=\"content\">\r\n          <h2 class=\"name\">{{song.name}}</h2>\r\n          <p class=\"desc\">{{getDesc(song)}}</p>\r\n        </div>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\nexport default {\r\n  props: {\r\n    songs: {\r\n      type: Array,\r\n      default: []\r\n    },\r\n    rank: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  methods: {\r\n    selectItem(item, index) {\r\n      this.$emit('select', item, index)\r\n    },\r\n    getDesc(song) {\r\n      return `${song.singer}·${song.album}`\r\n    },\r\n    getRankCls(index) {\r\n      if (index <= 2) {\r\n        return `icon icon${index}`\r\n      } else {\r\n        return 'text'\r\n      }\r\n    },\r\n    getRankText(index) {\r\n      if (index > 2) {\r\n        return index + 1\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n@import '../common/less/variable';\r\n@import '../common/less/mixin';\r\n\r\n.song-list {\r\n  .item {\r\n    display: flex;\r\n    align-items: center;\r\n    box-sizing: border-box;\r\n    height: 64px;\r\n    font-size: @font-size-medium;\r\n  }\r\n\r\n  .rank {\r\n    flex: 0 0 25px;\r\n    width: 25px;\r\n    margin-right: 30px;\r\n    text-align: center;\r\n  }\r\n\r\n  .icon {\r\n    display: inline-block;\r\n    width: 25px;\r\n    height: 24px;\r\n    background-size: 25px 24px;\r\n  }\r\n\r\n  .text {\r\n    color: @color-theme;\r\n    font-size: @font-size-large;\r\n  }\r\n\r\n  .content {\r\n    flex: 1;\r\n    line-height: 20px;\r\n    overflow: hidden;\r\n  }\r\n\r\n  .name {\r\n    .no-wrap();\r\n    color: @color-text;\r\n  }\r\n\r\n  .desc {\r\n    .no-wrap();\r\n    margin-top: 4px;\r\n    color: @color-text-d;\r\n  }\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/base/songs.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"song-list\"},[_c('ul',_vm._l((_vm.songs),function(song,index){return _c('li',{key:index,staticClass:\"item\",on:{\"click\":function($event){_vm.selectItem(song, index)}}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.rank),expression:\"rank\"}],staticClass:\"rank\"},[_c('span',{class:_vm.getRankCls(index),domProps:{\"textContent\":_vm._s(_vm.getRankText(index))}})]),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('h2',{staticClass:\"name\"},[_vm._v(_vm._s(song.name))]),_vm._v(\" \"),_c('p',{staticClass:\"desc\"},[_vm._v(_vm._s(_vm.getDesc(song)))])])])}))])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e29a507e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/songs.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e29a507e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./songs.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./songs.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./songs.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e29a507e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./songs.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-e29a507e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/songs.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"search-list\" v-show=\"searches.length\">\r\n    <transition-group name=\"list\" tag=\"ul\">\r\n      <li :key=\"item\" class=\"search-item\" @click=\"selectItem(item)\" v-for=\"item in searches\">\r\n        <span class=\"text\">{{item}}</span>\r\n        <span class=\"icon\" @click.stop=\"deleteOne(item)\">\r\n          <i class=\"icon-delete\"></i>\r\n        </span>\r\n      </li>\r\n    </transition-group>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\nexport default {\r\n  props: {\r\n    searches: {\r\n      type: Array,\r\n      default: function() {\r\n        return []\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    selectItem(item) {\r\n      this.$emit('select', item)\r\n    },\r\n    deleteOne(item) {\r\n      this.$emit('delete', item)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n  @import \"../common/less/variable\";\r\n  @import \"../common/less/mixin.less\";\r\n  .search-list{\r\n    .search-item{display: flex;\r\n      align-items: center;\r\n      height: 40px;\r\n      overflow: hidden;\r\n      .text{\r\n        flex: 1;\r\n        color: @color-text-l;\r\n        }\r\n      .icon{.extend-click()}\r\n        .icon-delete{\r\n          font-size: 14px;\r\n          color: @color-text-d};\r\n          }\r\n  }\r\n  .list-enter-active, .list-leave-active{transition: all 0.1s}\r\n  .list-enter, .list-leave-to{ height: 0}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/base/search-list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.searches.length),expression:\"searches.length\"}],staticClass:\"search-list\"},[_c('transition-group',{attrs:{\"name\":\"list\",\"tag\":\"ul\"}},_vm._l((_vm.searches),function(item){return _c('li',{key:item,staticClass:\"search-item\",on:{\"click\":function($event){_vm.selectItem(item)}}},[_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(item))]),_vm._v(\" \"),_c('span',{staticClass:\"icon\",on:{\"click\":function($event){$event.stopPropagation();_vm.deleteOne(item)}}},[_c('i',{staticClass:\"icon-delete\"})])])}))],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-323ad394\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/search-list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-323ad394\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./search-list.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./search-list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./search-list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-323ad394\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./search-list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-323ad394\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/search-list.vue\n// module id = null\n// module chunks = ","<template>\r\n  <transition name=\"drop\">\r\n    <div class=\"top-tip\" v-show=\"showFlag\" @click.stop=\"hide\">\r\n      <slot></slot>\r\n    </div>\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    delay: {\r\n      type: Number,\r\n      default: 0\r\n    }\r\n  },\r\n  data() {\r\n    return { showFlag: false }\r\n  },\r\n  methods: {\r\n    show() {\r\n      this.showFlag = true\r\n      clearTimeout(this.timer)\r\n      this.timer = setTimeout(() => {\r\n        this.hide()\r\n      }, this.delay)\r\n    },\r\n    hide() {\r\n      this.showFlag = false\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import '../common/less/variable';\r\n\r\n.top-tip {\r\n  position: fixed;\r\n  top: 0;\r\n  width: 100%;\r\n  z-index: 500;\r\n  background: @color-dialog-background;\r\n  .drop-enter-active,\r\n  .drop-leave-active {\r\n    transition: all 0.3s;\r\n  }\r\n  .drop-enter,\r\n  .drop-leave-to {\r\n    transform: translate3d(0, -100%, 0);\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/top-tips.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"drop\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showFlag),expression:\"showFlag\"}],staticClass:\"top-tip\",on:{\"click\":function($event){$event.stopPropagation();return _vm.hide($event)}}},[_vm._t(\"default\")],2)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6a017334\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/top-tips.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6a017334\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./top-tips.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./top-tips.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./top-tips.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6a017334\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./top-tips.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6a017334\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/top-tips.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"add-song\" v-show=\"showAdd\">\r\n    <div class=\"header\">\r\n      <h1 class=\"title\">添加到歌曲列表</h1>\r\n      <div class=\"icon close\" @click=\"hide\">\r\n        <i class=\"icon-close\"></i>\r\n      </div>\r\n    </div>\r\n    <div class=\"search-box-wrapper\">\r\n      <search-box placeholder=\"搜索歌曲...\" ref=\"searchBox\" @query=\"search\"></search-box>\r\n    </div>\r\n    <div class=\"shortcut\" v-show=\"!query\">\r\n      <switches :switches=\"switches\" @switch=\"switchItem\" ref=\"switches\" :currentIndex=\"currentIndex\"></switches>\r\n      <div class=\"list-wrapper\">\r\n        <scroll class=\"list-scroll\" v-if=\"currentIndex===0\" :data=\"playHistory\" ref=\"songslist\">\r\n          <div class=\"list-inner\">\r\n            <songs :songs=\"playHistory\" @select=\"selectItem\"></songs>\r\n          </div>\r\n        </scroll>\r\n        <scroll class=\"list-scroll\" v-show=\"currentIndex===1\" :data=\"searchHistory\" ref=\"searchScroll\" :refreshDelay=\"refreshDelay\">\r\n          <search-list @select=\"addQuery\" @delete=\"deleteSearchHistory\" :searches=\"searchHistory\"></search-list>\r\n        </scroll>\r\n      </div>\r\n    </div>\r\n    <div class=\"search-result\" v-show=\"query\">\r\n      <scroll ref=\"result-scroll\">\r\n        <div class=\"result\">\r\n          <suggest :query=\"query\" :showSinger=\"showSinger\" @select=\"selectSuggest\" @listenScroll=\"blurInp\"></suggest>\r\n        </div>\r\n      </scroll>\r\n    </div>\r\n    <top-tip ref=\"topTip\">\r\n      <div class=\"icon tip-title\">\r\n        <i class=\"icon-ok\"></i>\r\n        <span class=\"text\">1首歌曲已经添加到播放列表</span>\r\n      </div>\r\n    </top-tip>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport searchBox from '../base/search-box'\r\nimport switches from '../base/switch'\r\nimport songs from '../base/songs'\r\nimport searchList from '../base/search-list'\r\nimport scroll from '../base/scroll'\r\nimport suggest from '../components/suggest'\r\nimport { searchMixin } from '../common/js/mixin.js'\r\nimport { mapGetters, mapActions } from 'vuex'\r\nimport topTip from '../base/top-tips'\r\n\r\nexport default {\r\n  mixins: [searchMixin],\r\n  data() {\r\n    return {\r\n      switches: [{ name: '最近播放' }, { name: '搜索历史' }],\r\n      showAdd: false,\r\n      showSinger: false,\r\n      currentIndex: 0,\r\n      query: '',\r\n      refreshDelay: 120\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters(['playHistory'])\r\n  },\r\n  methods: {\r\n    ...mapActions(['insertSong']),\r\n    selectItem(song, index) {\r\n      if (index !== 0) {\r\n        this.insertSong(song)\r\n      }\r\n      this.$refs.topTip.show()\r\n    },\r\n    selectSuggest(item) {\r\n      this.$refs.topTip.show()\r\n      this.saveSearchHistory(item)\r\n    },\r\n    search(newQuery) {\r\n      this.query = newQuery\r\n    },\r\n    refreshList() {\r\n      setTimeout(() => {\r\n        if (this.currentIndex === 0) {\r\n          this.$refs.songslist.refresh()\r\n        } else {\r\n          this.$refs.searchScroll.refresh()\r\n        }\r\n      }, 20)\r\n    },\r\n    switchItem(index) {\r\n      this.currentIndex = index\r\n    },\r\n    show() {\r\n      this.showAdd = true\r\n      this.refreshList()\r\n    },\r\n    hide() {\r\n      this.showAdd = false\r\n    }\r\n  },\r\n  watch: {\r\n    query(newVal) {\r\n      if (!newVal) {\r\n        this.refreshList()\r\n      }\r\n    },\r\n    currentIndex(newVal) {\r\n      this.refreshList()\r\n    }\r\n  },\r\n  components: {\r\n    searchBox,\r\n    switches,\r\n    songs,\r\n    searchList,\r\n    scroll,\r\n    suggest,\r\n    topTip\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import '../common/less/variable.less';\r\n\r\n.add-song {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  z-index: 200;\r\n  background-color: #222;\r\n  width: 100%;\r\n  .search-result {\r\n    position: fixed;\r\n    top: 124px;\r\n    bottom: 0;\r\n    width: 100%;\r\n  }\r\n  .search-box-wrapper {\r\n    margin: 20px;\r\n  }\r\n  .header {\r\n    position: relative;\r\n    height: 44px;\r\n    text-align: center;\r\n    .title {\r\n      font-size: 18px;\r\n      line-height: 44px;\r\n      color: #fff;\r\n    }\r\n    .close {\r\n      position: absolute;\r\n      top: 0;\r\n      right: 8px;\r\n      i {\r\n        font-size: 20px;\r\n        padding: 12px;\r\n        color: #ffcd32;\r\n        display: block;\r\n      }\r\n    }\r\n  }\r\n  .list-wrapper {\r\n    position: absolute;\r\n    top: 165px;\r\n    bottom: 0;\r\n    width: 100%;\r\n    .list-scroll {\r\n      height: 100%;\r\n      overflow: hidden;\r\n      padding: 20px 30px;\r\n    }\r\n  }\r\n  .tip-title {\r\n    text-align: center;\r\n    padding: 18px 0;\r\n    font-size: 0;\r\n  }\r\n\r\n  .icon-ok {\r\n    font-size: @font-size-medium;\r\n    color: @color-theme;\r\n    margin-right: 4px;\r\n  }\r\n\r\n  .text {\r\n    font-size: @font-size-medium;\r\n    color: @color-text;\r\n  }\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/add-song.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showAdd),expression:\"showAdd\"}],staticClass:\"add-song\"},[_c('div',{staticClass:\"header\"},[_c('h1',{staticClass:\"title\"},[_vm._v(\"添加到歌曲列表\")]),_vm._v(\" \"),_c('div',{staticClass:\"icon close\",on:{\"click\":_vm.hide}},[_c('i',{staticClass:\"icon-close\"})])]),_vm._v(\" \"),_c('div',{staticClass:\"search-box-wrapper\"},[_c('search-box',{ref:\"searchBox\",attrs:{\"placeholder\":\"搜索歌曲...\"},on:{\"query\":_vm.search}})],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.query),expression:\"!query\"}],staticClass:\"shortcut\"},[_c('switches',{ref:\"switches\",attrs:{\"switches\":_vm.switches,\"currentIndex\":_vm.currentIndex},on:{\"switch\":_vm.switchItem}}),_vm._v(\" \"),_c('div',{staticClass:\"list-wrapper\"},[(_vm.currentIndex===0)?_c('scroll',{ref:\"songslist\",staticClass:\"list-scroll\",attrs:{\"data\":_vm.playHistory}},[_c('div',{staticClass:\"list-inner\"},[_c('songs',{attrs:{\"songs\":_vm.playHistory},on:{\"select\":_vm.selectItem}})],1)]):_vm._e(),_vm._v(\" \"),_c('scroll',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentIndex===1),expression:\"currentIndex===1\"}],ref:\"searchScroll\",staticClass:\"list-scroll\",attrs:{\"data\":_vm.searchHistory,\"refreshDelay\":_vm.refreshDelay}},[_c('search-list',{attrs:{\"searches\":_vm.searchHistory},on:{\"select\":_vm.addQuery,\"delete\":_vm.deleteSearchHistory}})],1)],1)],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.query),expression:\"query\"}],staticClass:\"search-result\"},[_c('scroll',{ref:\"result-scroll\"},[_c('div',{staticClass:\"result\"},[_c('suggest',{attrs:{\"query\":_vm.query,\"showSinger\":_vm.showSinger},on:{\"select\":_vm.selectSuggest,\"listenScroll\":_vm.blurInp}})],1)])],1),_vm._v(\" \"),_c('top-tip',{ref:\"topTip\"},[_c('div',{staticClass:\"icon tip-title\"},[_c('i',{staticClass:\"icon-ok\"}),_vm._v(\" \"),_c('span',{staticClass:\"text\"},[_vm._v(\"1首歌曲已经添加到播放列表\")])])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1901cf98\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/add-song.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1901cf98\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./add-song.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./add-song.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./add-song.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1901cf98\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./add-song.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1901cf98\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/add-song.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"playlist\" v-show=\"showFlag\">\r\n    <div class=\"list-wrapper\" @click.stop>\r\n      <div class=\"list-header\">\r\n        <h1 class=\"icon\">\r\n          <i :class=\"iconMode\" @click=\"changeMode\"></i>\r\n          <span class=\"text\">{{modeText}}</span>\r\n          <span class=\"clear\" @click.stop=\"showConfirm\">\r\n            <i class=\"icon-clear\"></i>\r\n          </span>\r\n        </h1>\r\n      </div>\r\n      <scroll class=\"list-content\" ref=\"scrollList\" :data=\"sequenceList\">\r\n        <transition-group class=\"list\" tag=\"ul\" name=\"songs\">\r\n          <li v-for=\"(item, index) in sequenceList\" :key=\"index\" class=\"icon\" ref=\"listItems\" @click=\"selectItem(item,index)\">\r\n            <i :class=\"getCurrentIcon(item)\" class=\"current\"></i>\r\n            <span class=\"text\" v-html=\"item.name\"></span>\r\n            <span class=\"like\">\r\n              <i class=\"icon-not-favorite\"></i>\r\n            </span>\r\n            <span class=\"delete\" @click.stop=\"deleteItem(item)\">\r\n              <i class=\"icon-delete\"></i>\r\n            </span>\r\n          </li>\r\n        </transition-group>\r\n      </scroll>\r\n      <div class=\"list-operate\">\r\n        <div class=\"icon add\" @click=\"showAddSong\">\r\n          <i class=\"icon-add\"></i>\r\n          <span class=\"text\">添加歌曲到队列</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"list-close\" @click.stop=\"hide\">\r\n        <span class=\"text\">关闭</span>\r\n      </div>\r\n    </div>\r\n    <div class=\"confirm-wrapper\" @click.stop>\r\n      <confirm ref=\"confirm\" text=\"确定要清空歌曲列表吗?\" @confirm=\"deleteSongslist\"></confirm>\r\n    </div>\r\n    <add-song ref=\"addSong\"></add-song>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, } from 'vuex'\r\nimport scroll from '../base/scroll'\r\nimport playMode from '../common/js/playMode.js'\r\nimport confirm from '../base/confirm'\r\nimport {playMixin} from '../common/js/mixin.js'\r\nimport addSong from '../components/add-song'\r\n\r\nexport default {\r\n  mixins:[playMixin],\r\n  data() {\r\n    return { showFlag: false }\r\n  },\r\n  computed: {\r\n    getPlayModeIcon() {\r\n      return this.mode === playMode.random\r\n        ? 'icon-random'\r\n        : this.mode === playMode.sequence ? 'icon-sequence' : 'icon-loop'\r\n    },\r\n    modeText() {\r\n      return this.mode === playMode.random\r\n        ? '随机播放'\r\n        : this.mode === playMode.sequence ? '顺序播放' : '单曲循环'\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions(['deleteSong','clearSongslist']),\r\n    showAddSong(){\r\n      this.$refs.addSong.show()\r\n    },\r\n    showConfirm(){\r\n      this.$refs.confirm.show()\r\n    },\r\n    deleteSongslist(){\r\n      this.clearSongslist()\r\n      this.hide()\r\n    },\r\n    deleteItem(item) {\r\n      this.deleteSong(item)\r\n      if (!this.playList.length) {\r\n        this.hide()\r\n      }\r\n    },\r\n    show() {\r\n      this.showFlag = true\r\n      setTimeout(() => {\r\n        this.$refs.scrollList.refresh()\r\n        this.scrollToCurrent(this.currentSong)\r\n      }, 20)\r\n    },\r\n    hide() {\r\n      this.showFlag = false\r\n    },\r\n    getCurrentIcon(item) {\r\n      return item.id === this.currentSong.id ? 'icon-play' : ''\r\n    },\r\n    scrollToCurrent(current) {\r\n      const index = this.sequenceList.findIndex(item => {\r\n        return item.id === current.id\r\n      })\r\n      this.$refs.scrollList.scrollToElement(this.$refs.listItems[index], 300)\r\n    },\r\n    selectItem(song, index) {\r\n      if (this.mode === playMode.random) {\r\n        index = this.playList.findIndex(item => {\r\n          return item.id === song.id\r\n        })\r\n      }\r\n      this.setCurrentIndex(index)\r\n      this.setPlayingState(true)\r\n    }\r\n  },\r\n  watch: {\r\n    currentSong(newSong, oldSong) {\r\n      if (!newSong.id || newSong.id === oldSong.id) {\r\n        return\r\n      }\r\n      this.getCurrentIcon(newSong)\r\n      setTimeout(() => {\r\n        this.scrollToCurrent(newSong)\r\n      }, 20)\r\n    }\r\n  },\r\n  components: { scroll,confirm,addSong }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.songs-enter-active,\r\n.songs-leave-active {\r\n  transition: all 0.1s;\r\n}\r\n.songs-enter,\r\n.songs-leave-to {\r\n  height: 0;\r\n}\r\n.playlist {\r\n  position: fixed;\r\n  left: 0;\r\n  bottom: 0;\r\n  top: 0;\r\n  z-index: 300;\r\n  background: rgba(0, 0, 0, 0.3);\r\n  width: 100%;\r\n}\r\n.list-wrapper {\r\n  position: absolute;\r\n  left: 0;\r\n  bottom: 0;\r\n  width: 100%;\r\n  background-color: #333;\r\n  .list-header {\r\n    padding: 20px 30px 10px 20px;\r\n    .icon {\r\n      display: flex;\r\n      align-items: center;\r\n      i {\r\n        font-size: 30px;\r\n        color: rgba(255, 205, 49, 0.5);\r\n        margin-right: 10px;\r\n      }\r\n      .text {\r\n        font-size: 14px;\r\n        flex: 1;\r\n        color: hsla(0, 0%, 100%, 0.5);\r\n      }\r\n      .icon-clear {\r\n        font-size: 14px;\r\n        color: hsla(0, 0%, 100%, 0.3);\r\n      }\r\n    }\r\n  }\r\n  .list-content {\r\n    max-height: 240px;\r\n    overflow: hidden;\r\n    .list li {\r\n      display: flex;\r\n      height: 40px;\r\n      align-items: center;\r\n      padding: 0 30px 0 20px;\r\n      overflow: hidden;\r\n\r\n      i {\r\n        width: 20px;\r\n        font-size: 12px;\r\n        color: rgba(255, 205, 49, 0.5);\r\n        flex: 0 0 20px;\r\n      }\r\n      .text {\r\n        font-size: 14px;\r\n        color: hsla(0, 0%, 100%, 0.3);\r\n        text-overflow: ellipsis;\r\n        white-space: nowrap;\r\n        overflow: hidden;\r\n        flex: 1;\r\n      }\r\n      .like i {\r\n        color: #ffcd32;\r\n        font-size: 12px;\r\n        margin-right: 15px;\r\n      }\r\n      .delete i {\r\n        color: #ffcd32;\r\n        font-size: 12px;\r\n      }\r\n    }\r\n  }\r\n  .list-operate {\r\n    width: 140px;\r\n    margin: 20px auto 30px;\r\n    .add {\r\n      display: flex;\r\n      align-items: center;\r\n      padding: 8px 16px;\r\n      border: 1px solid hsla(0, 0%, 100%, 0.5);\r\n      color: hsla(0, 0%, 100%, 0.5);\r\n      border-radius: 100px;\r\n      .icon-add {\r\n        font-size: 10px;\r\n        margin-right: 5px;\r\n      }\r\n      .text {\r\n        font-size: 12px;\r\n      }\r\n    }\r\n  }\r\n  .list-close {\r\n    text-align: center;\r\n    color: hsla(0, 0%, 100%, 0.5);\r\n    line-height: 50px;\r\n    background-color: #222;\r\n    font-size: 16px;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/playlist.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showFlag),expression:\"showFlag\"}],staticClass:\"playlist\"},[_c('div',{staticClass:\"list-wrapper\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('div',{staticClass:\"list-header\"},[_c('h1',{staticClass:\"icon\"},[_c('i',{class:_vm.iconMode,on:{\"click\":_vm.changeMode}}),_vm._v(\" \"),_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.modeText))]),_vm._v(\" \"),_c('span',{staticClass:\"clear\",on:{\"click\":function($event){$event.stopPropagation();return _vm.showConfirm($event)}}},[_c('i',{staticClass:\"icon-clear\"})])])]),_vm._v(\" \"),_c('scroll',{ref:\"scrollList\",staticClass:\"list-content\",attrs:{\"data\":_vm.sequenceList}},[_c('transition-group',{staticClass:\"list\",attrs:{\"tag\":\"ul\",\"name\":\"songs\"}},_vm._l((_vm.sequenceList),function(item,index){return _c('li',{key:index,ref:\"listItems\",refInFor:true,staticClass:\"icon\",on:{\"click\":function($event){_vm.selectItem(item,index)}}},[_c('i',{staticClass:\"current\",class:_vm.getCurrentIcon(item)}),_vm._v(\" \"),_c('span',{staticClass:\"text\",domProps:{\"innerHTML\":_vm._s(item.name)}}),_vm._v(\" \"),_c('span',{staticClass:\"like\"},[_c('i',{staticClass:\"icon-not-favorite\"})]),_vm._v(\" \"),_c('span',{staticClass:\"delete\",on:{\"click\":function($event){$event.stopPropagation();_vm.deleteItem(item)}}},[_c('i',{staticClass:\"icon-delete\"})])])}))],1),_vm._v(\" \"),_c('div',{staticClass:\"list-operate\"},[_c('div',{staticClass:\"icon add\",on:{\"click\":_vm.showAddSong}},[_c('i',{staticClass:\"icon-add\"}),_vm._v(\" \"),_c('span',{staticClass:\"text\"},[_vm._v(\"添加歌曲到队列\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"list-close\",on:{\"click\":function($event){$event.stopPropagation();return _vm.hide($event)}}},[_c('span',{staticClass:\"text\"},[_vm._v(\"关闭\")])])],1),_vm._v(\" \"),_c('div',{staticClass:\"confirm-wrapper\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('confirm',{ref:\"confirm\",attrs:{\"text\":\"确定要清空歌曲列表吗?\"},on:{\"confirm\":_vm.deleteSongslist}})],1),_vm._v(\" \"),_c('add-song',{ref:\"addSong\"})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-159f9d85\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/playlist.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-159f9d85\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./playlist.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./playlist.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./playlist.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-159f9d85\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./playlist.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-159f9d85\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/playlist.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"player-wrapper\" v-show=\"playList.length>0\">\r\n    <transition name=\"normal\" @enter=\"enter\" @after-enter=\"afterEnter\" @leave=\"leave\" @after-leave=\"afterLeave\">\r\n      <div class=\"normal-player\" v-show=\"fullScreen\">\r\n        <div class=\"bgImg\">\r\n          <img :src=\"currentSong.image\">\r\n        </div>\r\n        <div class=\"top\">\r\n          <div class=\"icon\" @click=\"back\">\r\n            <i class=\"icon-back\"></i>\r\n          </div>\r\n          <h1 v-html=\"currentSong.name\"></h1>\r\n          <h2 v-html=\"currentSong.singer\"></h2>\r\n        </div>\r\n        <div class=\"middle\" @touchstart=\"middleTouchStart\" @touchmove=\"middleTouchMove\" @touchend=\"middleTouchEnd\">\r\n          <div class=\"middle-left\" ref=\"middleCd\">\r\n            <div class=\"player-cd-wrap\" ref=\"cd\">\r\n              <!-- <div class=\"player-cd\"> -->\r\n              <img :src=\"currentSong.image\" :class=\"cdRotate\">\r\n              <!-- </div> -->\r\n            </div>\r\n            <div class=\"player-lyric-wrap\">\r\n              <p class=\"cd-lyric\">{{playLyric}}</p>\r\n            </div>\r\n          </div>\r\n          <scroller class=\"middle-right\" ref=\"lyricList\">\r\n            <div class=\"lyric-wrapper\">\r\n              <p class=\"lyric\" v-for=\"(line, index) in currentLyric.lines\" :key=\"index\" :class=\"{current:currentLine===index}\" ref=\"lyricLine\">\r\n                {{line.txt}}\r\n              </p>\r\n            </div>\r\n          </scroller>\r\n        </div>\r\n        <div class=\"bottom\">\r\n          <div class=\"dot-wrapper\">\r\n            <span class=\"dot\" :class=\"{active:currentShow==='cd'}\"></span>\r\n            <span class=\"dot\" :class=\"{active:currentShow==='lyric'}\"></span>\r\n          </div>\r\n          <div class=\"progress-bar-wrapper\">\r\n            <div class=\"time time-progress\">{{formatTime(currentTime)}}</div>\r\n            <progress-bar :percent=\"percent\" @percentChange=\"changePercent\"></progress-bar>\r\n            <div class=\"time time-duration\">{{formatTime(currentSong.duration)}}</div>\r\n          </div>\r\n          <div class=\"icon-operator\">\r\n            <div class=\"icon-left\">\r\n              <i :class=\"iconMode\" class=\"left\" @click.stop.prevent=\"changeMode\"></i>\r\n            </div>\r\n            <div class=\"icon-left\">\r\n              <i class=\"icon-prev left\" @click.stop.prevent=\"prev\"></i>\r\n            </div>\r\n            <div class=\"icon-center\">\r\n              <i :class=\"playIcon\" class=\"center\" @click.stop.prevent=\"togglePlaying\"></i>\r\n            </div>\r\n            <div class=\"icon-right\">\r\n              <i class=\"icon-next right\" @click.stop.prevent=\"next\"></i>\r\n            </div>\r\n            <div class=\"icon-right\">\r\n              <i class=\"icon-not-favorite right\"></i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </transition>\r\n    <transition name=\"mini\">\r\n      <div class=\"mini-player\" v-show=\"!fullScreen\" @click=\"open\">\r\n        <div class=\"img-wrapper\">\r\n          <img :src=\"currentSong.image\" :class=\"cdRotate\">\r\n        </div>\r\n        <div class=\"text\">\r\n          <h2 v-html=\"currentSong.name\"></h2>\r\n          <span v-html=\"currentSong.singer\"></span>\r\n        </div>\r\n        <div class=\"icon-contral\" @click.stop=\"togglePlaying\">\r\n          <progress-circle :percent=\"percent\" :radius=\"radius\">\r\n            <i :class=\"playIcon\" class=\"mini-play-btn\"></i>\r\n          </progress-circle>\r\n        </div>\r\n        <div class=\"icon-contral\" @click.stop=\"showPlaylist\">\r\n          <i class=\"icon-playlist\"></i>\r\n        </div>\r\n      </div>\r\n    </transition>\r\n    <audio :src=\"currentSong.url\" ref=\"audio\" @canplay=\"ready\" @error=\"error\" @timeupdate=\"updateTime\" @ended=\"end\">\r\n    </audio>\r\n    <playlist ref=\"playlist\"></playlist>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapMutations, mapActions } from 'vuex'\r\nimport animations from 'create-keyframe-animation'\r\nimport progressBar from '../base/progressBar'\r\nimport progressCircle from '../base/progressCircle'\r\nimport playMode from '../common/js/playMode.js'\r\nimport Lyric from 'lyric-parser'\r\nimport playlist from '../components/playlist'\r\nimport { playMixin } from '../common/js/mixin.js'\r\nimport Vue from 'vue'\r\nimport VueScroller from 'vue-scroller'\r\nVue.use(VueScroller)\r\n\r\nexport default {\r\n  name: 'player',\r\n  mixins: [playMixin],\r\n  data() {\r\n    return {\r\n      songReady: false,\r\n      currentTime: 0,\r\n      radius: 32,\r\n      currentShow: 'cd',\r\n      currentLyric: {},\r\n      currentLine: 0,\r\n      initiate: false,\r\n      playLyric: ''\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters(['playing', 'fullScreen', 'currentIndex']),\r\n    playIcon() {\r\n      return this.playing ? 'icon-pause' : 'icon-play'\r\n    },\r\n    cdRotate() {\r\n      return this.playing ? 'play' : 'pause'\r\n    },\r\n    percent() {\r\n      return this.currentTime / this.currentSong.duration\r\n    }\r\n  },\r\n  watch: {\r\n    currentSong(oldSong, newSong) {\r\n      if (newSong.id === oldSong.id) {\r\n        return\r\n      }\r\n      this.$nextTick(() => {\r\n        this.setPlayingState(true)\r\n        this.$refs.audio.play()\r\n        this.getLyric()\r\n      })\r\n    },\r\n    playing(newState) {\r\n      const audio = this.$refs.audio\r\n      this.$nextTick(() => {\r\n        newState ? audio.play() : audio.pause()\r\n      })\r\n    }\r\n  },\r\n  created() {\r\n    this.touch = {}\r\n  },\r\n  methods: {\r\n    ...mapActions(['savePlayHistory']),\r\n    showPlaylist() {\r\n      this.$refs.playlist.show()\r\n    },\r\n    middleTouchStart(e) {\r\n      this.initiate = true\r\n      this.touch.startX = e.touches[0].pageX\r\n      this.touch.startY = e.touches[0].pageY\r\n    },\r\n    middleTouchMove(e) {\r\n      if (!this.initiate) {\r\n        return\r\n      }\r\n      const deltaX = e.touches[0].pageX - this.touch.startX\r\n      const deltaY = e.touches[0].pageY - this.touch.startY\r\n\r\n      if (Math.abs(deltaY) > Math.abs(deltaX)) {\r\n        return\r\n      }\r\n\r\n      const baseLeft = this.currentShow === 'cd' ? 0 : -window.innerWidth\r\n      const offsetWidth = Math.min(\r\n        0,\r\n        Math.max(-window.innerWidth, baseLeft + deltaX)\r\n      )\r\n      this.touch.percent = Math.abs(offsetWidth / window.innerWidth)\r\n      this.$refs.lyricList.$el.style[\r\n        'transform'\r\n      ] = `translate3d(${offsetWidth}px,0,0)`\r\n      this.$refs.lyricList.$el.style['transformDuration'] = 0\r\n      this.$refs.middleCd.style.opacity = 1 - this.touch.percent\r\n      this.$refs.middleCd.style['transformDuration'] = 0\r\n    },\r\n    middleTouchEnd(e) {\r\n      let offsetWidth, opacity\r\n      const time = 300\r\n\r\n      if (this.currentShow === 'cd') {\r\n        if (this.touch.percent > 0.1) {\r\n          this.currentShow = 'lyric'\r\n          offsetWidth = -window.innerWidth\r\n          opacity = 0\r\n        } else {\r\n          offsetWidth = 0\r\n          opacity = 1\r\n        }\r\n      } else {\r\n        if (this.touch.percent < 0.9) {\r\n          this.currentShow = 'cd'\r\n          offsetWidth = 0\r\n          opacity = 1\r\n        } else {\r\n          offsetWidth = -window.innerWidth\r\n          opacity = 0\r\n        }\r\n      }\r\n      this.$refs.lyricList.$el.style[\r\n        'transform'\r\n      ] = `translate3d(${offsetWidth}px,0,0)`\r\n      this.$refs.lyricList.$el.style['transformDuration'] = time + 'ms'\r\n      this.$refs.middleCd.style.opacity = opacity\r\n      this.$refs.middleCd.style['transformDuration'] = time + 'ms'\r\n      this.initiate = false\r\n    },\r\n    handleLyric(lineNum, txt) {\r\n      this.currentLine = this.currentLyric.curNum - 1\r\n      if (this.playing) {\r\n        if (this.currentLine > 5) {\r\n          let targetEl = this.$refs.lyricLine[this.currentLine - 5]\r\n          this.$refs.lyricList.scrollTo(0, targetEl.offsetTop, true)\r\n        } else {\r\n          this.$refs.lyricList.scrollTo(0, 0, true)\r\n        }\r\n      }\r\n      this.playLyric = this.currentLyric.lines[this.currentLine].txt\r\n    },\r\n    getLyric() {\r\n      setTimeout(() => {\r\n        this.currentSong._getLyric().then(res => {\r\n          this.currentLyric = new Lyric(res, this.handleLyric)\r\n          if (this.playList) {\r\n            this.currentLyric.play()\r\n          }\r\n        })\r\n      }, 20)\r\n    },\r\n\r\n    changePercent(newPercent) {\r\n      this.$refs.audio.currentTime = newPercent * this.currentSong.duration\r\n      if (!this.playing) {\r\n        this.togglePlaying()\r\n      }\r\n      this.currentLyric.seek(this.$refs.audio.currentTime * 1000)\r\n    },\r\n    updateTime(e) {\r\n      this.currentTime =\r\n        e.target.currentTime > this.currentSong.duration\r\n          ? this.currentSong.duration\r\n          : e.target.currentTime\r\n    },\r\n    loop() {\r\n      this.$refs.audio.currentTime = 0\r\n      this.$refs.audio.play()\r\n      if (this.currentLyric) {\r\n        this.currentLyric.seek(0)\r\n      }\r\n    },\r\n    end() {\r\n      if (this.mode === playMode.loop) {\r\n        this.loop()\r\n      } else {\r\n        this.next()\r\n      }\r\n    },\r\n    // 由于audio的当前播放时间是以秒为单位 要转化为分:秒的格式\r\n    formatTime(interval) {\r\n      interval = interval | 0\r\n      let min = (interval / 60) | 0\r\n      let second = this.pad(interval % 60)\r\n\r\n      return `${min}:${second}`\r\n    },\r\n    // 对于一位数的秒 自动补零函数\r\n    pad(num, n = 2) {\r\n      let len = num.toString().length\r\n      while (len < n) {\r\n        num = '0' + num\r\n        len++\r\n      }\r\n      return num\r\n    },\r\n    prev() {\r\n      if (!this.songReady) return\r\n      if (this.mode === playMode.loop) {\r\n        this.loop()\r\n        return\r\n      }\r\n      let index = this.currentIndex - 1\r\n      if (index === -1) {\r\n        index = this.playList.length - 1\r\n      }\r\n      this.setCurrentIndex(index)\r\n      this.songReady = false\r\n    },\r\n    next() {\r\n      if (!this.songReady) return\r\n      if (this.mode === playMode.loop) {\r\n        this.loop()\r\n        return\r\n      }\r\n      let index = this.currentIndex + 1\r\n      if (index === this.playList.length) {\r\n        index = 0\r\n      }\r\n      this.setCurrentIndex(index)\r\n      this.songReady = false\r\n    },\r\n    ready() {\r\n      this.songReady = true // 快速切换时,避免歌曲未缓冲造成的无法加载歌曲,只有歌曲缓冲完成才能切换,\r\n      this.savePlayHistory(this.currentSong)\r\n    },\r\n    error() {\r\n      this.songReady = true // 网络错误时也可以使用上/下首\r\n    },\r\n    back() {\r\n      this.setFullScreen(false)\r\n    },\r\n    open() {\r\n      this.setFullScreen(true)\r\n    },\r\n    togglePlaying() {\r\n      this.setPlayingState(!this.playing)\r\n      this.currentLyric.togglePlay()\r\n    },\r\n    getPosandScale() {\r\n      const miniWidth = 40,\r\n        targetWidth = window.innerWidth * 0.8,\r\n        miniLeft = 40,\r\n        targetTop = 80,\r\n        miniBottom = 30,\r\n        scale = miniWidth / targetWidth\r\n      let x = -(targetWidth / 2 - miniLeft)\r\n      let y = window.innerHeight - targetTop - targetWidth / 2 - miniBottom\r\n\r\n      return { x, y, scale }\r\n    },\r\n    enter(el, done) {\r\n      const { x, y, scale } = this.getPosandScale()\r\n      let animation = {\r\n        // 进入的时候相对于大cd的位置(0,0,0),0s的时候在小cd的位置(-x,y,0)变形到大cd的位置(0,0,0),比例也变化1\r\n        0: { transform: `translate3d(${x}px,${y}px,0) scale(${scale})` },\r\n        60: { transform: `translate3d(0,0,0) scale(1.1)` },\r\n        100: { transform: `translate3d(0,0,0) scale(1)` }\r\n      }\r\n      //在动画库的对象上注册动画animation\r\n      animations.registerAnimation({\r\n        name: 'move', // 插入自定义动画animation\r\n        animation, // 动画基础配置\r\n        prset: {\r\n          duration: 400, // 动画持续时间\r\n          easing: 'liner' // 过渡效果 -- 线性\r\n        }\r\n      }),\r\n        // 绑定动画到dom元素,done是执行完动画的回调函数,执行done后跳入afterEnter()\r\n        animations.runAnimation(this.$refs.cd, 'move', done)\r\n    },\r\n    afterEnter(el, done) {\r\n      // 取消动画\r\n      animations.unregisterAnimation('move')\r\n      this.$refs.cd.style.animation = ''\r\n    },\r\n    leave(el, done) {\r\n      this.$refs.cd.style.transition = 'all 0.4s'\r\n      const { x, y, scale } = this.getPosandScale()\r\n      // 离开的时候从大cd的原始位置(0,0,0)变化到小cd的位置(-x,y,0)\r\n      this.$refs.cd.style[\r\n        `transform`\r\n      ] = `translate3d(${x}px,${y}px,0) scale(${scale})`\r\n      this.$refs.cd.style[\r\n        `webkitTransform`\r\n      ] = `translate3d(${x}px,${y}px,0) scale(${scale})`\r\n      const timer = setTimeout(done, 400) \r\n      // 添加动画完成后回调函数done\r\n      this.$refs.cd.addEventListener('transitionend',()=>{\r\n        clearTimeout(timer)\r\n        done()\r\n      })\r\n    },\r\n    afterLeave(el, done) {\r\n      this.$refs.cd.style.transform = ''\r\n      this.$refs.cd.style.webkitTransform = ''\r\n      this.$refs.cd.style.transition = ''\r\n    }\r\n  },\r\n  components: {\r\n    progressBar,\r\n    progressCircle,\r\n    playlist\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.player-lyric-wrap {\r\n  width: 80%;\r\n  margin: 30px auto;\r\n  text-align: center;\r\n  .cd-lyric {\r\n    color: hsla(0, 0%, 100%, 0.5);\r\n    height: 20px;\r\n    line-height: 20px;\r\n    font-size: 14px;\r\n    overflow: hidden;\r\n  }\r\n}\r\n.middle-right {\r\n  display: inline-block;\r\n  overflow: hidden;\r\n  vertical-align: top;\r\n  width: 100%;\r\n  height: 100%;\r\n  position: relative;\r\n  .lyric-wrapper {\r\n    position: relative;\r\n    height: 100%;\r\n    margin: 0 auto;\r\n    width: 80%;\r\n    text-align: center;\r\n    .lyric {\r\n      width: 100%;\r\n      line-height: 32px;\r\n      height: auto;\r\n      color: hsla(0, 0%, 100%, 0.5);\r\n      font-size: 14px;\r\n      word-break: break-all;\r\n      overflow: hidden;\r\n      &.current {\r\n        color: #fff;\r\n      }\r\n    }\r\n  }\r\n}\r\n.normal-enter-active,\r\n.normal-leave-active {\r\n  transition: all 0.4s;\r\n  .top,\r\n  .bottom {\r\n    transition: all 0.4s cubic-bezier(0.86, 0.18, 0.82, 1.32);\r\n  }\r\n}\r\n.normal-enter,\r\n.normal-leave {\r\n  opacity: 0;\r\n  .top {\r\n    transform: translate3d(0, -100px, 0);\r\n  }\r\n\r\n  .bottom {\r\n    transform: translate3d(0, 100px, 0);\r\n  }\r\n}\r\n.mini-enter-active,\r\n.mini-leave-active {\r\n  transition: all 0.4s;\r\n}\r\n.mini-enter,\r\n.mini-leave-to {\r\n  opacity: 0;\r\n}\r\n.img-wrapper {\r\n  width: 40px;\r\n  height: 40px;\r\n  padding: 0 10px 0 20px;\r\n  .play {\r\n    animation: rotate 10s linear infinite;\r\n  }\r\n  .pause {\r\n    animation-play-state: paused;\r\n  }\r\n  img {\r\n    width: 100%;\r\n    height: 100%;\r\n    border-radius: 50%;\r\n  }\r\n}\r\n\r\n.text {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  overflow: hidden;\r\n  flex: 1;\r\n  span,\r\n  h2 {\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    line-height: 20px;\r\n  }\r\n  h2 {\r\n    font-size: 14px;\r\n    color: #fff;\r\n    margin-bottom: 2px;\r\n  }\r\n  span {\r\n    font-size: 12px;\r\n    color: hsla(0, 0%, 100%, 0.3);\r\n  }\r\n}\r\n.icon-contral {\r\n  width: 30px;\r\n  padding: 0 10px;\r\n  i {\r\n    color: rgba(255, 205, 49, 0.5);\r\n    font-size: 32px;\r\n  }\r\n}\r\n.normal-player {\r\n  width: 100%;\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  z-index: 120;\r\n  background-color: #222;\r\n}\r\n.mini-player {\r\n  position: fixed;\r\n  bottom: 0;\r\n  left: 0;\r\n  height: 60px;\r\n  background-color: #333;\r\n  width: 100%;\r\n  z-index: 130;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.mini-play-btn {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n}\r\n.icon {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 6px;\r\n  transform: rotate(-90deg);\r\n  padding: 9px;\r\n  font-size: 22px;\r\n  color: #ffcd32;\r\n}\r\n.top {\r\n  margin: 0 0 25px 0;\r\n  h2,\r\n  h1 {\r\n    text-overflow: ellipsis;\r\n    overflow: hidden;\r\n    white-space: nowrap;\r\n    color: #fff;\r\n    text-align: center;\r\n    width: 70%;\r\n    margin: 0 auto;\r\n    font-size: 18px;\r\n    line-height: 40px;\r\n  }\r\n  h2 {\r\n    line-height: 20px;\r\n    font-size: 14px;\r\n  }\r\n}\r\n.bgImg {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: -1;\r\n  opacity: 0.6;\r\n  filter: blur(20px);\r\n  -webkit-filter: blur(20px);\r\n  img {\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n}\r\n.middle {\r\n  position: fixed;\r\n  width: 100%;\r\n  top: 80px;\r\n  bottom: 170px;\r\n  white-space: nowrap;\r\n  font-size: 0;\r\n}\r\n.player-cd-wrap {\r\n  position: absolute;\r\n  top: 0;\r\n  width: 80%;\r\n  left: 10%;\r\n  height: 100%;\r\n  box-sizing: border-box;\r\n  .play {\r\n    animation: rotate 20s linear infinite;\r\n  }\r\n  .pause {\r\n    animation-play-state: paused;\r\n  }\r\n  img {\r\n    width: 100%;\r\n    height: 100%;\r\n    border: 10px solid hsla(0, 0%, 100%, 0.1);\r\n    border-radius: 50%;\r\n    box-sizing: border-box;\r\n  }\r\n}\r\n.middle-left {\r\n  position: relative;\r\n  width: 100%;\r\n  padding-top: 80%;\r\n  height: 0;\r\n  vertical-align: top;\r\n  display: inline-block;\r\n}\r\n.bottom {\r\n  position: absolute;\r\n  width: 100%;\r\n  bottom: 50px;\r\n}\r\n.dot-wrapper {\r\n  text-align: center;\r\n  font-size: 0;\r\n}\r\n.dot {\r\n  display: inline-block;\r\n  /* vertical-align: middle; */\r\n  margin: 0 4px;\r\n  width: 8px;\r\n  height: 8px;\r\n  border-radius: 50%;\r\n  background: hsla(0, 0%, 100%, 0.5);\r\n}\r\n.active {\r\n  width: 20px;\r\n  border-radius: 5px;\r\n  background: hsla(0, 0%, 100%, 0.8);\r\n}\r\n.progress-bar-wrapper {\r\n  width: 80%;\r\n  display: flex;\r\n  align-items: center;\r\n  margin: 0 auto;\r\n  padding: 10px 0;\r\n  .time {\r\n    font-size: 12px;\r\n    width: 30px;\r\n    line-height: 30px;\r\n    color: #fff;\r\n  }\r\n  .time-duration {\r\n    text-align: right;\r\n  }\r\n  .time-progress {\r\n    text-align: left;\r\n  }\r\n}\r\n.icon-operator {\r\n  display: flex;\r\n  align-items: center;\r\n  color: #ffcd32;\r\n  font-size: 30px;\r\n  & > div {\r\n    flex: 1;\r\n  }\r\n  .icon-left {\r\n    text-align: right;\r\n  }\r\n  .icon-center {\r\n    text-align: center;\r\n    font-size: 40px;\r\n    padding: 1px 20px;\r\n  }\r\n  .icon-right {\r\n    text-align: left;\r\n  }\r\n}\r\n@keyframes rotate {\r\n  0% {\r\n    transform: rotate(0);\r\n  }\r\n  100% {\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n</style>\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/player.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.playList.length>0),expression:\"playList.length>0\"}],staticClass:\"player-wrapper\"},[_c('transition',{attrs:{\"name\":\"normal\"},on:{\"enter\":_vm.enter,\"after-enter\":_vm.afterEnter,\"leave\":_vm.leave,\"after-leave\":_vm.afterLeave}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.fullScreen),expression:\"fullScreen\"}],staticClass:\"normal-player\"},[_c('div',{staticClass:\"bgImg\"},[_c('img',{attrs:{\"src\":_vm.currentSong.image}})]),_vm._v(\" \"),_c('div',{staticClass:\"top\"},[_c('div',{staticClass:\"icon\",on:{\"click\":_vm.back}},[_c('i',{staticClass:\"icon-back\"})]),_vm._v(\" \"),_c('h1',{domProps:{\"innerHTML\":_vm._s(_vm.currentSong.name)}}),_vm._v(\" \"),_c('h2',{domProps:{\"innerHTML\":_vm._s(_vm.currentSong.singer)}})]),_vm._v(\" \"),_c('div',{staticClass:\"middle\",on:{\"touchstart\":_vm.middleTouchStart,\"touchmove\":_vm.middleTouchMove,\"touchend\":_vm.middleTouchEnd}},[_c('div',{ref:\"middleCd\",staticClass:\"middle-left\"},[_c('div',{ref:\"cd\",staticClass:\"player-cd-wrap\"},[_c('img',{class:_vm.cdRotate,attrs:{\"src\":_vm.currentSong.image}})]),_vm._v(\" \"),_c('div',{staticClass:\"player-lyric-wrap\"},[_c('p',{staticClass:\"cd-lyric\"},[_vm._v(_vm._s(_vm.playLyric))])])]),_vm._v(\" \"),_c('scroller',{ref:\"lyricList\",staticClass:\"middle-right\"},[_c('div',{staticClass:\"lyric-wrapper\"},_vm._l((_vm.currentLyric.lines),function(line,index){return _c('p',{key:index,ref:\"lyricLine\",refInFor:true,staticClass:\"lyric\",class:{current:_vm.currentLine===index}},[_vm._v(\"\\n              \"+_vm._s(line.txt)+\"\\n            \")])}))])],1),_vm._v(\" \"),_c('div',{staticClass:\"bottom\"},[_c('div',{staticClass:\"dot-wrapper\"},[_c('span',{staticClass:\"dot\",class:{active:_vm.currentShow==='cd'}}),_vm._v(\" \"),_c('span',{staticClass:\"dot\",class:{active:_vm.currentShow==='lyric'}})]),_vm._v(\" \"),_c('div',{staticClass:\"progress-bar-wrapper\"},[_c('div',{staticClass:\"time time-progress\"},[_vm._v(_vm._s(_vm.formatTime(_vm.currentTime)))]),_vm._v(\" \"),_c('progress-bar',{attrs:{\"percent\":_vm.percent},on:{\"percentChange\":_vm.changePercent}}),_vm._v(\" \"),_c('div',{staticClass:\"time time-duration\"},[_vm._v(_vm._s(_vm.formatTime(_vm.currentSong.duration)))])],1),_vm._v(\" \"),_c('div',{staticClass:\"icon-operator\"},[_c('div',{staticClass:\"icon-left\"},[_c('i',{staticClass:\"left\",class:_vm.iconMode,on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.changeMode($event)}}})]),_vm._v(\" \"),_c('div',{staticClass:\"icon-left\"},[_c('i',{staticClass:\"icon-prev left\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.prev($event)}}})]),_vm._v(\" \"),_c('div',{staticClass:\"icon-center\"},[_c('i',{staticClass:\"center\",class:_vm.playIcon,on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.togglePlaying($event)}}})]),_vm._v(\" \"),_c('div',{staticClass:\"icon-right\"},[_c('i',{staticClass:\"icon-next right\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.next($event)}}})]),_vm._v(\" \"),_c('div',{staticClass:\"icon-right\"},[_c('i',{staticClass:\"icon-not-favorite right\"})])])])])]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"mini\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.fullScreen),expression:\"!fullScreen\"}],staticClass:\"mini-player\",on:{\"click\":_vm.open}},[_c('div',{staticClass:\"img-wrapper\"},[_c('img',{class:_vm.cdRotate,attrs:{\"src\":_vm.currentSong.image}})]),_vm._v(\" \"),_c('div',{staticClass:\"text\"},[_c('h2',{domProps:{\"innerHTML\":_vm._s(_vm.currentSong.name)}}),_vm._v(\" \"),_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.currentSong.singer)}})]),_vm._v(\" \"),_c('div',{staticClass:\"icon-contral\",on:{\"click\":function($event){$event.stopPropagation();return _vm.togglePlaying($event)}}},[_c('progress-circle',{attrs:{\"percent\":_vm.percent,\"radius\":_vm.radius}},[_c('i',{staticClass:\"mini-play-btn\",class:_vm.playIcon})])],1),_vm._v(\" \"),_c('div',{staticClass:\"icon-contral\",on:{\"click\":function($event){$event.stopPropagation();return _vm.showPlaylist($event)}}},[_c('i',{staticClass:\"icon-playlist\"})])])]),_vm._v(\" \"),_c('audio',{ref:\"audio\",attrs:{\"src\":_vm.currentSong.url},on:{\"canplay\":_vm.ready,\"error\":_vm.error,\"timeupdate\":_vm.updateTime,\"ended\":_vm.end}}),_vm._v(\" \"),_c('playlist',{ref:\"playlist\"})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f2e5a486\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/player.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f2e5a486\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./player.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./player.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./player.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f2e5a486\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./player.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-f2e5a486\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/player.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <m-header></m-header>\n    <tab></tab>\n    <player></player>\n    <router-view></router-view>\n  </div>\n</template>\n\n<script>\nimport mHeader from './base/Mheader'\nimport tab from './base/tab'\nimport store from './store/index.js'\nimport player from './components/player'\n\nexport default {\n  name: 'App',\n  components:{\n    mHeader,tab,player\n  },\n  store,\n}\n</script>\n\n<style lang=\"less\">\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('m-header'),_vm._v(\" \"),_c('tab'),_vm._v(\" \"),_c('player'),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-29d8899b\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-29d8899b\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-29d8899b\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      redirect: '/recommend'\n    },\n    {\n      path: '/user',\n      component: () => import('../components/user.vue')\n    },\n    {\n      path: '/recommend',\n      component: () => import('../components/recommend.vue'),\n      children: [\n        { path: ':id', component: () => import('../components/disc.vue') }\n      ]\n    },\n    {\n      path: '/singer',\n      component: () => import('../components/singer.vue'),\n      children: [\n        {\n          path: ':id',\n          component: () => import('../components/singerDetail.vue')\n        }\n      ]\n    },\n    {\n      path: '/rank',\n      component: () => import('../components/rank.vue'),\n      children: [\n        { path: ':id', component: () => import('../components/top-list.vue') }\n      ]\n    },\n    {\n      path: '/search',\n      component: () => import('../components/search.vue'),\n      children:[{\n        path:':id',component:()=>import('../components/singerDetail.vue')\n      }]\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\nimport VueLazyload from 'vue-lazyload'\nimport './common/less/index.less'\n\nVue.config.productionTip = false\n\nVue.use(VueLazyload, {\n  preLoad: 1.3,\n  error: 'dist/error.png',\n  loading: 'http://i.imgur.com/bS4jUCz.gif',\n  attempt: 1\n})\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  components: { App },\n  render: elment => elment(App)\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","export const commonParams = {\r\n  g_tk: 1928093487,\r\n  format: 'jsonp',\r\n  inCharset: 'utf-8',\r\n  outCharset: 'utf-8',\r\n  notice: 0\r\n}\r\n\r\nexport const options = {\r\n  param: 'jsonpCallback'\r\n}\r\n\r\nexport const ERR_OK = 0\n\n\n// WEBPACK FOOTER //\n// ./src/api/commonParams.js","<template>\r\n  <div class=\"loading\">\r\n    <img width=\"24px\" height=\"24px\" src=\"../assets/loading.gif\">\r\n    <p class=\"desc\">{{title}}</p>\r\n  </div>\r\n</template>\r\n<script type=\"text/ecmascript-6\">\r\n  export default {\r\n    props: {\r\n      title: {\r\n        type: String,\r\n        default: '正在载入...'\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.loading{width: 100%;text-align: center;}\r\n.desc{\r\n  line-height: 20px;font-size: 14px;color: rgba(255, 255, 255, 0.5);\r\n}\r\n</style>\r\n \r\n \r\n\n\n\n// WEBPACK FOOTER //\n// src/base/loading.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"loading\"},[_c('img',{attrs:{\"width\":\"24px\",\"height\":\"24px\",\"src\":require(\"../assets/loading.gif\")}}),_vm._v(\" \"),_c('p',{staticClass:\"desc\"},[_vm._v(_vm._s(_vm.title))])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e6bdaef0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/loading.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e6bdaef0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./loading.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./loading.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./loading.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e6bdaef0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./loading.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-e6bdaef0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/loading.vue\n// module id = null\n// module chunks = ","import { getLyric } from 'api/index'\r\n\r\nexport class Song {\r\n  constructor({ id, mid, singer, name, album, duration, image, url }) {\r\n    this.id = id,\r\n    this.mid = mid,\r\n    this.singer = singer,\r\n    this.name = name,\r\n    this.album = album,\r\n    this.duration = duration,\r\n    this.image = image,\r\n    this.url = url\r\n  }\r\n\r\n  _getLyric() {\r\n    if (this.lyric) {\r\n      return Promise.resolve(this.lyric)\r\n    }\r\n\r\n    return new Promise((resolve, reject) => {\r\n      getLyric(this.id).then(res => {\r\n        if (res.retcode === 0) {\r\n          this.lyric = HtmlDecode(res.lyric)\r\n          resolve(this.lyric)\r\n        } else {\r\n          reject(console.log('获取歌词失败!'))\r\n        }\r\n      })\r\n    })\r\n  }\r\n}\r\n\r\nexport function createSong(musicData) {\r\n  return new Song({\r\n    id: musicData.songid,\r\n    mid: musicData.songmid,\r\n    singer: singerSlice(musicData.singer),\r\n    name: musicData.songname,\r\n    album: musicData.albumname,\r\n    duration: musicData.interval,\r\n    image: `https://y.gtimg.cn/music/photo_new/T002R300x300M000${\r\n      musicData.albummid\r\n    }.jpg?max_age=2592000`,\r\n    url: `http://ws.stream.qqmusic.qq.com/C100${\r\n      musicData.songmid\r\n    }.m4a?fromtag=46&guid=126548448`\r\n  })\r\n}\r\n\r\nfunction singerSlice(singer) {\r\n  if (!singer) {\r\n    return\r\n  }\r\n  let singerArr = []\r\n  singer.forEach(item => {\r\n    singerArr.push(item.name)\r\n  })\r\n\r\n  return singerArr.join('/') // ' 刘德华/王菲 '\r\n}\r\n\r\n// 将html实体字符的歌词转译成能解析的格式,歌词已经不是base64的格式了\r\nfunction HtmlDecode(str) {\r\n  var t = document.createElement('div')\r\n  t.innerHTML = str\r\n  return t.textContent || t.innerText\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/Song.js","<template>\r\n  <div class=\"no-result\">\r\n    <div class=\"no-result-icon\"></div>\r\n    <p class=\"no-result-text\">{{title}}</p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props:{\r\n    title:{\r\n      type:String,\r\n      default:''\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.no-result{text-align: center;\r\n  .no-result-icon{width:86px;height: 90px;background-image: url('../assets/no-result@3x.png');background-size: 100%;margin: 0 auto;}\r\n  .no-result-text{margin-top: 30px;font-size: 14px;color: hsla(0,0%,100%,.3);}\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/base/no-result.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"no-result\"},[_c('div',{staticClass:\"no-result-icon\"}),_vm._v(\" \"),_c('p',{staticClass:\"no-result-text\"},[_vm._v(_vm._s(_vm.title))])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0c017a2a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/no-result.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0c017a2a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./no-result.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./no-result.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./no-result.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0c017a2a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./no-result.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0c017a2a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/no-result.vue\n// module id = null\n// module chunks = ","<template>\r\n  <scroll \r\n    class=\"suggest-box\"\r\n    @scrollToEnd=\"_searchMove\" \r\n    :pullup=\"pullup\" \r\n    ref=\"scroller\" \r\n    :data=\"result\" \r\n    :beforeScroll=\"beforeScroll\" \r\n    @beforeScroll=\"listScroll\">\r\n    <div class=\"suggest-list\">\r\n      <li v-for=\"(item, index) in result\" :key=\"index\" @click=\"selectItem(item)\">\r\n        <div class=\"icon\">\r\n          <i :class=\"getIconCls(item)\"></i>\r\n        </div>\r\n        <span v-html=\"showName(item)\"></span>\r\n      </li>\r\n      <div> \r\n        <loading v-show=\"hasMore\" title=\"\"></loading>\r\n      </div>\r\n    </div>\r\n    <div class=\"no-result-wrapper\" v-show=\"!hasMore&&!result.length\">\r\n      <no-result  title=\"抱歉 ! 暂无搜索结果\"></no-result>\r\n    </div>\r\n  </scroll>\r\n</template>\r\n\r\n<script>\r\nimport { search } from '../api/index.js'\r\nimport { createSong } from '../common/js/Song.js'\r\nimport scroll from '../base/scroll'\r\nimport loading from '../base/loading'\r\nimport {mapActions} from 'vuex'\r\nimport noResult from '../base/no-result'\r\n\r\nconst perpage = 20\r\n\r\nexport default {\r\n  props: {\r\n    query: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    showSinger: {\r\n      type: Boolean,\r\n      default: true\r\n    }\r\n  },\r\n  data() {\r\n    return { page: 1, result: [], hasMore: true,flag:true,pullup:true,beforeScroll:true, }\r\n  },\r\n  created() {\r\n    this._search()\r\n  },\r\n  methods: {\r\n    ...mapActions([\r\n      'insertSong'\r\n    ]),\r\n    listScroll(){\r\n      this.$emit('listenScroll')\r\n    },\r\n    selectItem(item){\r\n      if (item.TYPE==='singer') {\r\n        this.$router.push(`/search/${item.singermid}`)\r\n      }else{\r\n        this.insertSong(item)\r\n      }\r\n      this.$emit('select',this.query)\r\n    },\r\n    _searchMove() {\r\n      if (!this.hasMore||!this.flag) {\r\n        return\r\n      }\r\n      this.flag=false\r\n      this.page++\r\n      search(this.query, this.page, this.showSinger, perpage).then(res => {\r\n        if (res.code === 0) {\r\n          this.result=this.result.concat(this.getResult(res.data))\r\n          this.checkMove(res.data)\r\n          this.flag=true\r\n        }\r\n      })\r\n    },\r\n    checkMove(data) {\r\n      const song = data.song\r\n      if (!song.list.length || (song.curnum + perpage * song.curpage) > song.totalnum) {\r\n        this.hasMore = false\r\n      }\r\n    },\r\n    showName(item) {\r\n      if (item.TYPE === 'singer') {\r\n        return item.singername\r\n      } else {\r\n        return `${item.name} - ${item.singer}`\r\n      }\r\n    },\r\n    getIconCls(item) {\r\n      if (item.TYPE === 'singer') {\r\n        return 'icon-mine'\r\n      } else {\r\n        return 'icon-music'\r\n      }\r\n    },\r\n    _search() {\r\n      this.page = 1\r\n      this.hasMore=true\r\n      // 如果上次查询滚动到一定距离,下一次查询要重置scroll的滚动值\r\n      setTimeout(() => {\r\n        this.$refs.scroller.scrollTo(0,0)\r\n      }, 20);\r\n      search(this.query, this.page, this.showSinger, perpage).then(res => {\r\n        this.result = this.getResult(res.data)\r\n      })\r\n    },\r\n    getResult(data) {\r\n      let ret = []\r\n      if (data.zhida && data.zhida.singerid&&this.page === 1 ) {\r\n        ret.push({ ...data.zhida, ...{ TYPE: 'singer' } }) // 对象的扩展运算符\r\n      }\r\n      if (data.song) {\r\n        ret = ret.concat(this.normalizeList(data.song.list))\r\n      }\r\n      return ret // [{...}.Array[20]]\r\n    },\r\n    normalizeList(list) {\r\n      let ret = []\r\n      list.forEach(item => {\r\n        ret.push(createSong(item))\r\n      })\r\n      return ret\r\n    }\r\n  },\r\n  watch: {\r\n    query(newVal) {\r\n      this._search(newVal)\r\n    }\r\n  },\r\n  components: {\r\n    loading,scroll,noResult\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.no-result-wrapper{\r\n  position: absolute;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  width:100%;\r\n}\r\n.suggest-box {\r\n  width: 100%;\r\n  overflow: hidden;\r\n  height: 100%;\r\n}\r\n.suggest-list {\r\n  padding: 0 30px;\r\n  // position: relative;\r\n  li {\r\n    display: flex;\r\n    align-items: center;\r\n    padding-bottom: 20px;\r\n    .icon {\r\n      width: 30px;\r\n      flex: 0 0 30px;\r\n      i {\r\n        font-size: 14px;\r\n        color: hsla(0, 0, 100%, 0.5);\r\n      }\r\n    }\r\n    span {\r\n      flex: 1;\r\n      color: hsla(0, 0, 100%, 0.5);\r\n      font-size: 14px;\r\n      overflow: hidden;\r\n      text-overflow: ellipsis;\r\n      white-space: nowrap;\r\n    }\r\n  }\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/suggest.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('scroll',{ref:\"scroller\",staticClass:\"suggest-box\",attrs:{\"pullup\":_vm.pullup,\"data\":_vm.result,\"beforeScroll\":_vm.beforeScroll},on:{\"scrollToEnd\":_vm._searchMove,\"beforeScroll\":_vm.listScroll}},[_c('div',{staticClass:\"suggest-list\"},[_vm._l((_vm.result),function(item,index){return _c('li',{key:index,on:{\"click\":function($event){_vm.selectItem(item)}}},[_c('div',{staticClass:\"icon\"},[_c('i',{class:_vm.getIconCls(item)})]),_vm._v(\" \"),_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.showName(item))}})])}),_vm._v(\" \"),_c('div',[_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hasMore),expression:\"hasMore\"}],attrs:{\"title\":\"\"}})],1)],2),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.hasMore&&!_vm.result.length),expression:\"!hasMore&&!result.length\"}],staticClass:\"no-result-wrapper\"},[_c('no-result',{attrs:{\"title\":\"抱歉 ! 暂无搜索结果\"}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-73e11596\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/suggest.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-73e11596\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./suggest.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./suggest.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./suggest.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-73e11596\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./suggest.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-73e11596\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/suggest.vue\n// module id = null\n// module chunks = ","import originJsonp from 'jsonp'\r\n\r\nexport default function jsonp(url, data, options) {\r\n  url += url.indexOf('?') < 0 ? `?${urlSplice(data)}` : `&${urlSplice(data)}`\r\n  return new Promise((resolve, reject) => {\r\n    originJsonp(url, options, (err, data) => { // err写在前面...\r\n      if (!err) {\r\n        resolve(data)\r\n      } else {\r\n        reject(err)\r\n      }\r\n    })\r\n  })\r\n}\r\n\r\nfunction urlSplice(data) {\r\n  let url = ''\r\n\r\n  for (const key in data) {\r\n    let value = data[key] === undefined ? (data[key] = '') : data[key]\r\n    url += `&${key}=${encodeURIComponent(value)}`\r\n  }\r\n\r\n  return url ? url.substring(1) : ''// 将第一个‘&’除去\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/jsonp.js","import axios from 'axios'\r\nimport jsonp from '../common/js/jsonp'\r\nimport {commonParams,options} from './commonParams'\r\n\r\nexport let getRecommend=()=>{\r\n  let url ='https://c.y.qq.com/musichall/fcgi-bin/fcg_yqqhomepagerecommend.fcg'\r\n\r\n  const data = Object.assign({}, commonParams, {\r\n    platform: \"h5\",\r\n    uin: 0,\r\n    needNewCode: 1\r\n  });\r\n  \r\n  return jsonp(url,data,options)\r\n}\r\n\r\nexport function getDiscList() {\r\n  const url = '/getDiscList' //原视频中是 '/api/getDiscList'\r\n  const data = Object.assign({}, commonParams, {\r\n    picmid: 1,\r\n    rnd: Math.random(),\r\n    loginUin: 0,\r\n    hostUin: 0,\r\n    format: 'json',\r\n    notice: 0,\r\n    platform: 'yqq',\r\n    needNewCode: 0,\r\n    categoryId: 10000000,\r\n    sortId: 5,\r\n    sin: 0,\r\n    ein: 29\r\n  })\r\n\r\n  return axios.get(url, {\r\n    params: data\r\n  }).then((res) => {\r\n    return Promise.resolve(res.data)\r\n  })\r\n}\r\n\r\nexport let getSingerlist=()=>{\r\n  let url = 'https://c.y.qq.com/v8/fcg-bin/v8.fcg'\r\n\r\n  const data = Object.assign({}, commonParams, {\r\n    channel: 'singer',\r\n    page: 'list',\r\n    key: 'all_all_all',\r\n    pagesize: 100,\r\n    pagenum: 1,\r\n    hostUin: 0,\r\n    needNewCode: 0,\r\n    platform: 'yqq',\r\n    g_tk: 1928093487,\r\n  });\r\n\r\n  return jsonp(url,data,options)\r\n}\r\n\r\nexport function getSingerInfo(singerId) {\r\n  let url ='https://c.y.qq.com/v8/fcg-bin/fcg_v8_singer_track_cp.fcg'\r\n\r\n  const data=Object.assign({},commonParams,{\r\n    hostUin: 0,\r\n    needNewCode: 0,\r\n    platform: 'yqq',\r\n    order: 'listen',\r\n    begin: 0,\r\n    num: 80,\r\n    songstatus: 1,\r\n    singermid: singerId\r\n  })\r\n\r\n  return jsonp(url,data,options)\r\n}\r\n\r\nexport function getLyric(id) {\r\n  const url='/lyric'\r\n\r\n  const data = Object.assign({}, {}, {\r\n    nobase64: 1,\r\n    musicid: id, //不再是mid\r\n    songtype: 0\r\n  })\r\n\r\n  return axios.get(url,{params:data}).then(res=>{\r\n    return Promise.resolve(res.data)\r\n  })\r\n}\r\n\r\nexport function getDiscSongs(disstid) {\r\n  const url = '/getDiscSongs'\r\n\r\n  const data = Object.assign({}, commonParams, {\r\n    format: 'json',\r\n    needNewCode: 1,\r\n    disstid: disstid,\r\n    type: 1,\r\n    json: 1,\r\n    utf8: 1,\r\n    onlysong: 0,\r\n    g_tk: 1800233000,\r\n    platform: 'yqq',\r\n    needNewCode: 0,\r\n    onlysong: 0,\r\n    notice: 0\r\n  })\r\n\r\n  return axios.get(url, {\r\n    params: data\r\n  }).then((res) => {\r\n    return Promise.resolve(res.data)\r\n  })\r\n}\r\n\r\nexport function getTopList() {\r\n  const url = 'https://c.y.qq.com/v8/fcg-bin/fcg_myqq_toplist.fcg'\r\n\r\n  const data = Object.assign({}, commonParams, {\r\n    uin: 0,\r\n    needNewCode: 1,\r\n    platform: 'h5'\r\n  })\r\n\r\n  return jsonp(url, data, options)\r\n}\r\n\r\nexport function getTopSongs(topid) {\r\n  const url ='https://c.y.qq.com/v8/fcg-bin/fcg_v8_toplist_cp.fcg'\r\n\r\n  const data = Object.assign({}, commonParams, {\r\n    topid,\r\n    needNewCode: 1,\r\n    uin: 0,\r\n    tpl: 3,\r\n    page: 'detail',\r\n    type: 'top',\r\n    platform: 'h5'\r\n  })\r\n\r\n  return jsonp(url,data,options)\r\n}\r\n\r\nexport function getHotKey() {\r\n  const url = 'https://c.y.qq.com/splcloud/fcgi-bin/gethotkey.fcg'\r\n\r\n  const data = Object.assign({}, commonParams, {\r\n    uin: 0,\r\n    needNewCode: 1,\r\n    platform: 'h5'\r\n  })\r\n\r\n  return jsonp(url, data, options)\r\n}\r\n\r\n\r\nexport function search(query, page, zhida, perpage) {\r\n  const url = '/search'\r\n\r\n  const data = Object.assign({}, commonParams, {\r\n    w: query,\r\n    p: page,\r\n    perpage,\r\n    n: perpage,\r\n    catZhida: zhida ? 1 : 0,\r\n    zhidaqu: 1,\r\n    t: 0,\r\n    flag: 1,\r\n    ie: 'utf-8',\r\n    sem: 1,\r\n    aggr: 0,\r\n    remoteplace: 'txt.mqq.all',\r\n    uin: 0,\r\n    needNewCode: 1,\r\n    platform: 'h5',\r\n    format:'json'\r\n  })\r\n\r\n  return axios.get(url,{params:data}).then(res=>{\r\n    return Promise.resolve(res.data)\r\n  })\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/api/index.js","function getRandomInt(max, min) {\r\n  return Math.floor(Math.random() * (max - min + 1) + min)\r\n}\r\n\r\nexport function shuffle(arr) {\r\n  let randomArr = arr.slice()\r\n  // 每次循环将数组的任意两位交换,避免重复\r\n  for (let i = 0; i < randomArr.length; i++) {\r\n    let randomIndex = getRandomInt(i, 0) // getRandomInt()第一个参数是i\r\n    let value = randomArr[i]\r\n    randomArr[i] = randomArr[randomIndex]\r\n    randomArr[randomIndex] = value\r\n  }\r\n  return randomArr\r\n}\r\n\r\n// 节流函数\r\nexport function debounce(func, delay) {\r\n  let timer\r\n  return function(...args) {\r\n    if (timer) {\r\n      clearTimeout(timer)\r\n    }\r\n    timer = setTimeout(() => {\r\n      // this===search-box这个组件 ,args是传入的搜索词,是匿名函数的arguments\r\n      func.apply(this, args)\r\n    }, delay)\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/util.js","let  playMode={\r\n  sequence:0,\r\n  loop:1,\r\n  random:2\r\n}\r\n\r\nexport default playMode\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/playMode.js"],"sourceRoot":""}